{"version":3,"file":"enhanced-bonus-builder.js","sources":["../scripts/constants.mjs","../scripts/applications/filterings.mjs","../scripts/applications/babonus-sheet.mjs","../scripts/applications/babonus-workshop.mjs","../scripts/applications/bonus-collection.mjs","../scripts/registry.mjs","../scripts/applications/optional-selector.mjs","../scripts/applications/_module.mjs","../scripts/fields/base-field.mjs","../scripts/fields/item-type-field.mjs","../scripts/fields/weapon-type-field.mjs","../scripts/fields/weapon-properties-field.mjs","../scripts/fields/armor-type-field.mjs","../scripts/fields/spell-level-field.mjs","../scripts/fields/spell-school-field.mjs","../scripts/fields/spell-components-field.mjs","../scripts/fields/damage-types-field.mjs","../scripts/fields/abilities-field.mjs","../scripts/fields/skills-field.mjs","../scripts/fields/proficiency-field.mjs","../scripts/fields/markers-field.mjs","../scripts/fields/conditions-field.mjs","../scripts/fields/distance-field.mjs","../scripts/fields/equipped-field.mjs","../scripts/fields/attunement-field.mjs","../scripts/fields/prepared-field.mjs","../scripts/fields/concentration-field.mjs","../scripts/fields/ritual-field.mjs","../scripts/fields/critical-field.mjs","../scripts/fields/_module.mjs","../scripts/models/aura-model.mjs","../scripts/models/consumption-model.mjs","../scripts/models/modifiers-model.mjs","../scripts/models/babonus-model.mjs","../scripts/models/_module.mjs","../scripts/api.mjs","../scripts/applications/character-sheet-tab.mjs","../scripts/applications/enrichers.mjs","../scripts/applications/injections.mjs","../scripts/mutators.mjs","../scripts/hooks.mjs"],"sourcesContent":["/**\n * Constants used throughout the Enhanced Bonus Builder module\n */\n\nexport const MODULE = {\n  ID: \"enhanced-bonus-builder\",\n  NAME: \"Enhanced Bonus Builder\",\n  TITLE: \"ENHANCEDBONUSBUILDER.ModuleTitle\",\n  ICON: \"fa-solid fa-calculator\"\n};\n\nexport const SETTINGS = {\n  MIGRATE: \"migrate\",\n  SHOW_APPLIED: \"showApplied\",\n  SHOW_OPTIONAL: \"showOptional\",\n  SHOW_SHEET_TAB: \"showSheetTab\"\n};\n\nexport const BONUS_TYPES = {\n  ATTACK_ROLL: \"attackRoll\",\n  DAMAGE_ROLL: \"damageRoll\",\n  SAVING_THROW_DC: \"savingThrowDc\",\n  SAVING_THROW: \"savingThrow\",\n  ABILITY_CHECK: \"abilityCheck\",\n  HIT_DIE: \"hitDie\"\n};\n\nexport const DAMAGE_TYPES = [\n  \"acid\", \"bludgeoning\", \"cold\", \"fire\", \"force\", \n  \"lightning\", \"necrotic\", \"piercing\", \"poison\", \n  \"psychic\", \"radiant\", \"slashing\", \"thunder\",\n  \"healing\"\n];\n\nexport const SPELL_COMPONENTS = {\n  VERBAL: \"v\",\n  SOMATIC: \"s\",\n  MATERIAL: \"m\"\n};\n\nexport const WEAPON_PROPERTIES = [\n  \"ada\", \"amm\", \"fin\", \"fir\", \"foc\", \"hvy\", \"lgt\", \n  \"lod\", \"mgc\", \"rch\", \"rel\", \"ret\", \"sil\", \"spc\", \n  \"thr\", \"two\", \"ver\"\n];\n\nexport const ITEM_TYPES = [\n  \"weapon\", \"equipment\", \"consumable\", \"tool\", \n  \"loot\", \"background\", \"class\", \"subclass\", \n  \"spell\", \"feat\", \"backpack\"\n];\n\nexport const SPELL_SCHOOLS = [\n  \"abj\", \"con\", \"div\", \"enc\", \"evo\", \"ill\", \"nec\", \"trs\"\n];\n\nexport const ABILITY_TYPES = [\n  \"str\", \"dex\", \"con\", \"int\", \"wis\", \"cha\"\n];\n\nexport const SKILL_TYPES = [\n  \"acr\", \"ani\", \"arc\", \"ath\", \"dec\", \"his\", \n  \"ins\", \"itm\", \"inv\", \"med\", \"nat\", \"prc\", \n  \"prf\", \"per\", \"rel\", \"slt\", \"ste\", \"sur\"\n];\n\nexport const TEMPLATES = {\n  SHEET: `modules/${MODULE.ID}/templates/babonus-sheet.hbs`,\n  WORKSHOP: `modules/${MODULE.ID}/templates/babonus-workshop.hbs`,\n  SHEET_DESCRIPTION: `modules/${MODULE.ID}/templates/sheet-description.hbs`,\n  SHEET_CONFIGURATION: `modules/${MODULE.ID}/templates/sheet-configuration.hbs`,\n  SHEET_FILTERS: `modules/${MODULE.ID}/templates/sheet-filters.hbs`,\n  SHEET_ADVANCED: `modules/${MODULE.ID}/templates/sheet-advanced.hbs`,\n  SHEET_BONUSES: `modules/${MODULE.ID}/templates/sheet-bonuses.hbs`,\n  APPLIED_BONUSES: `modules/${MODULE.ID}/templates/subapplications/applied-bonuses.hbs`,\n  OPTIONAL_BONUSES: `modules/${MODULE.ID}/templates/subapplications/optional-bonuses.hbs`\n};","/**\n * Filter system for bonuses.\n */\n\n/**\n * Filter definitions.\n */\nexport const filters = {\n  /**\n   * Filter by item type.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  itemType: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item) return false;\n    \n    return filter.includes(item.type);\n  },\n  \n  /**\n   * Filter by weapon type.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  weaponType: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"weapon\") return false;\n    \n    return filter.includes(item.system.weaponType);\n  },\n  \n  /**\n   * Filter by weapon properties.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  weaponProperties: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"weapon\") return false;\n    \n    const properties = item.system.properties || {};\n    \n    for (const property of filter) {\n      if (!properties[property]) return false;\n    }\n    \n    return true;\n  },\n  \n  /**\n   * Filter by armor type.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  armorType: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"equipment\" || !item.system.armor) return false;\n    \n    return filter.includes(item.system.armor.type);\n  },\n  \n  /**\n   * Filter by spell level.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {object} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  spellLevel: (bonus, filter, context) => {\n    if (!filter) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    const level = item.system.level;\n    \n    if (filter.min !== undefined && level < filter.min) return false;\n    if (filter.max !== undefined && level > filter.max) return false;\n    \n    return true;\n  },\n  \n  /**\n   * Filter by spell school.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  spellSchool: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    return filter.includes(item.system.school);\n  },\n  \n  /**\n   * Filter by spell components.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  spellComponents: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    const components = item.system.components || {};\n    \n    for (const component of filter) {\n      if (component === \"v\" && !components.vocal) return false;\n      if (component === \"s\" && !components.somatic) return false;\n      if (component === \"m\" && !components.material) return false;\n    }\n    \n    return true;\n  },\n  \n  /**\n   * Filter by damage types.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  damageTypes: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item) return false;\n    \n    // Check for damage types in the item\n    if (item.system.damage?.parts) {\n      for (const [, damageType] of item.system.damage.parts) {\n        if (filter.includes(damageType)) return true;\n      }\n    }\n    \n    // Check for damage types in the bonus itself\n    if (bonus.damageType && filter.includes(bonus.damageType)) return true;\n    \n    return false;\n  },\n  \n  /**\n   * Filter by abilities.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  abilities: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const ability = context.ability;\n    if (!ability) return false;\n    \n    return filter.includes(ability);\n  },\n  \n  /**\n   * Filter by skills.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  skills: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const skill = context.skill;\n    if (!skill) return false;\n    \n    return filter.includes(skill);\n  },\n  \n  /**\n   * Filter by proficiency.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  proficiency: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const { actor, item } = context;\n    if (!actor || !item) return false;\n    \n    let hasProficiency = false;\n    \n    if (item.type === \"weapon\") {\n      hasProficiency = enhancedBonusBuilder.api.hasWeaponProficiency(actor, item);\n    } else if (item.type === \"equipment\" && item.system.armor) {\n      hasProficiency = enhancedBonusBuilder.api.hasArmorProficiency(actor, item);\n    } else if (item.type === \"tool\") {\n      hasProficiency = enhancedBonusBuilder.api.hasToolProficiency(actor, item);\n    }\n    \n    return filter === hasProficiency;\n  },\n  \n  /**\n   * Filter by markers.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  markers: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const { actor, target } = context;\n    if (!actor) return false;\n    \n    // Check actor markers\n    const actorMarkers = actor.getFlag(\"enhanced-bonus-builder\", \"markers\") || [];\n    const hasAllActorMarkers = filter.every(m => actorMarkers.includes(m));\n    if (hasAllActorMarkers) return true;\n    \n    // Check target markers if available\n    if (target) {\n      const targetMarkers = target.getFlag(\"enhanced-bonus-builder\", \"markers\") || [];\n      const hasAllTargetMarkers = filter.every(m => targetMarkers.includes(m));\n      if (hasAllTargetMarkers) return true;\n    }\n    \n    return false;\n  },\n  \n  /**\n   * Filter by conditions.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {Array<string>} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  conditions: (bonus, filter, context) => {\n    if (!filter || !filter.length) return true;\n    \n    const { actor, target } = context;\n    if (!actor) return false;\n    \n    // Check actor conditions\n    for (const condition of filter) {\n      if (actor.effects.some(e => e.statuses.has(condition))) return true;\n    }\n    \n    // Check target conditions if available\n    if (target) {\n      for (const condition of filter) {\n        if (target.effects.some(e => e.statuses.has(condition))) return true;\n      }\n    }\n    \n    return false;\n  },\n  \n  /**\n   * Filter by distance.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {object} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  distance: (bonus, filter, context) => {\n    if (!filter) return true;\n    \n    const { actor, target } = context;\n    if (!actor || !target || !actor.token || !target.token) return false;\n    \n    const distance = canvas.grid.measureDistance(actor.token, target.token);\n    \n    if (filter.min !== undefined && distance < filter.min) return false;\n    if (filter.max !== undefined && distance > filter.max) return false;\n    \n    return true;\n  },\n  \n  /**\n   * Filter by equipped status.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  equipped: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const item = context.item;\n    if (!item) return false;\n    \n    const isEquipped = item.system.equipped === true;\n    return filter === isEquipped;\n  },\n  \n  /**\n   * Filter by attunement status.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  attunement: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const item = context.item;\n    if (!item) return false;\n    \n    const isAttuned = item.system.attunement === 2; // 2 = attuned\n    return filter === isAttuned;\n  },\n  \n  /**\n   * Filter by prepared status.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  prepared: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    const isPrepared = item.system.preparation?.prepared === true;\n    return filter === isPrepared;\n  },\n  \n  /**\n   * Filter by concentration status.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  concentration: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    const isConcentration = item.system.components?.concentration === true;\n    return filter === isConcentration;\n  },\n  \n  /**\n   * Filter by ritual status.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  ritual: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    const isRitual = item.system.components?.ritual === true;\n    return filter === isRitual;\n  },\n  \n  /**\n   * Filter by critical hit status.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {boolean} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the filter passes.\n   */\n  critical: (bonus, filter, context) => {\n    if (filter === undefined) return true;\n    \n    const isCritical = context.critical === true;\n    return filter === isCritical;\n  }\n};","import { MODULE } from \"../constants.mjs\";\nimport api from \"../api.mjs\";\n\n/**\n * The application for editing a bonus.\n */\nexport default class BabonusSheet extends FormApplication {\n  /**\n   * @param {object} options Optional configuration parameters for how the sheet behaves\n   * @param {Babonus} options.bonus The babonus managed by this sheet\n   */\n  constructor({bonus, ...options}) {\n    super({...options, document: bonus.parent, bonusId: bonus.id});\n    this.bonus = bonus;\n    this.activeFilters = {};\n    this.availableFilters = {};\n    \n    // Initialize available filters\n    for (const [id, field] of Object.entries(enhancedBonusBuilder.abstract.DataFields.fields)) {\n      if (field.appliesToBonus(bonus) && field.availableFor(bonus.parent)) {\n        this.availableFilters[id] = {\n          name: field.name,\n          hint: field.hint\n        };\n        \n        if (bonus.filters[id]) {\n          this.activeFilters[id] = {\n            value: bonus.filters[id],\n            html: field.createHTML(bonus)\n          };\n        }\n      }\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"enhanced-bonus-builder\", \"sheet\"],\n      template: MODULE.TEMPLATES.SHEET,\n      width: 600,\n      height: 600,\n      tabs: [{\n        navSelector: \".tabs\",\n        contentSelector: \".tab\",\n        initial: \"description\"\n      }],\n      submitOnChange: false,\n      closeOnSubmit: false,\n      resizable: true,\n      dragDrop: [{dragSelector: \".item\", dropSelector: null}]\n    });\n  }\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"ENHANCEDBONUSBUILDER.ModuleTitle\")}: ${this.bonus.name}`;\n  }\n\n  /** @inheritdoc */\n  getData() {\n    const data = super.getData();\n    \n    // Add bonus data\n    data.bonus = this.bonus;\n    data.parentName = this.document.name;\n    data.iconColor = \"#4b6eaf\";\n    \n    // Add filter data\n    data.availableFilters = this.availableFilters;\n    data.activeFilters = this.activeFilters;\n    \n    // Add type-specific data\n    if (this.bonus.type === \"damageRoll\") {\n      data.damageTypes = CONFIG.DND5E.damageTypes;\n    }\n    \n    if ([\"savingThrow\", \"abilityCheck\"].includes(this.bonus.type)) {\n      data.abilities = CONFIG.DND5E.abilities;\n    }\n    \n    if (this.bonus.type === \"abilityCheck\") {\n      data.skills = CONFIG.DND5E.skills;\n    }\n    \n    // Add consumption data\n    data.consumptionTypes = {};\n    if (this.document.documentName === \"Actor\") {\n      data.consumptionTypes.attributes = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.attributes\";\n      data.consumptionTypes.currency = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.currency\";\n      data.consumptionTypes.resources = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.resources\";\n      data.consumptionTypes.hitDice = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.hitDice\";\n    }\n    \n    if (this.document.documentName === \"Item\") {\n      if (this.document.system.uses?.max) {\n        data.consumptionTypes.uses = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.uses\";\n      }\n      if (this.document.system.consume?.type === \"charges\") {\n        data.consumptionTypes.charges = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.charges\";\n      }\n      if (this.document.type === \"spell\") {\n        data.consumptionTypes.slots = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.slots\";\n      }\n    }\n    \n    // Add consumption properties\n    data.consumptionProperties = {};\n    if (this.bonus.consumption.type) {\n      const properties = enhancedBonusBuilder.abstract.DataModels.ConsumptionModel.getAvailableProperties(\n        this.bonus.consumption.type,\n        this.document\n      );\n      data.consumptionProperties = properties;\n    }\n    \n    return data;\n  }\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    \n    // Activate filter listeners\n    this._activateFilterListeners(html);\n    \n    // Handle delete button\n    html.find('[data-action=\"delete\"]').click(this._onDelete.bind(this));\n    \n    // Handle duplicate button\n    html.find('[data-action=\"duplicate\"]').click(this._onDuplicate.bind(this));\n    \n    // Handle bonus icon\n    html.find('[data-action=\"bonus-icon\"]').click(this._onBonusIcon.bind(this));\n  }\n\n  /**\n   * Activate filter listeners.\n   * @param {jQuery} html The HTML element.\n   * @private\n   */\n  _activateFilterListeners(html) {\n    // Handle filter item clicks\n    html.find('.filter-item').click(this._onFilterItemClick.bind(this));\n    \n    // Handle filter remove clicks\n    html.find('[data-action=\"remove-filter\"]').click(this._onFilterRemoveClick.bind(this));\n  }\n\n  /**\n   * Handle filter item clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  _onFilterItemClick(event) {\n    const filterId = event.currentTarget.dataset.filter;\n    \n    // If the filter is already active, do nothing\n    if (this.activeFilters[filterId]) return;\n    \n    // Add the filter to active filters\n    const field = enhancedBonusBuilder.abstract.DataFields.fields[filterId];\n    if (!field) return;\n    \n    this.activeFilters[filterId] = {\n      value: null,\n      html: field.createHTML(this.bonus)\n    };\n    \n    // Re-render the sheet\n    this.render();\n  }\n\n  /**\n   * Handle filter remove clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  _onFilterRemoveClick(event) {\n    const filterId = event.currentTarget.dataset.filter;\n    \n    // Remove the filter from active filters\n    delete this.activeFilters[filterId];\n    \n    // Remove the filter from the bonus\n    delete this.bonus.filters[filterId];\n    \n    // Re-render the sheet\n    this.render();\n  }\n\n  /**\n   * Handle delete button clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  async _onDelete(event) {\n    const confirmed = await Dialog.confirm({\n      title: game.i18n.localize(\"Delete Bonus\"),\n      content: `<p>${game.i18n.format(\"Are you sure you want to delete {name}?\", {name: this.bonus.name})}</p>`,\n      defaultYes: false\n    });\n    \n    if (!confirmed) return;\n    \n    // Get the bonuses from the document\n    const bonuses = foundry.utils.deepClone(this.document.getFlag(MODULE.ID, \"bonuses\") || {});\n    \n    // Delete the bonus\n    delete bonuses[this.bonus.id];\n    \n    // Update the document\n    await this.document.setFlag(MODULE.ID, \"bonuses\", bonuses);\n    \n    // Close the sheet\n    this.close();\n  }\n\n  /**\n   * Handle duplicate button clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  async _onDuplicate(event) {\n    // Duplicate the bonus\n    const duplicate = api.duplicateBonus(this.bonus);\n    \n    // Embed the bonus in the document\n    await api.embedBonus(this.document, duplicate);\n    \n    // Close this sheet and open a new one for the duplicate\n    this.close();\n    const sheet = new BabonusSheet({bonus: duplicate});\n    sheet.render(true);\n  }\n\n  /**\n   * Handle bonus icon clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  _onBonusIcon(event) {\n    // Generate a random color\n    const colors = [\n      \"#4b6eaf\", \"#af4b4b\", \"#4baf4b\", \"#af4baf\",\n      \"#4bafaf\", \"#afaf4b\", \"#af7a4b\", \"#7a4baf\"\n    ];\n    const color = colors[Math.floor(Math.random() * colors.length)];\n    \n    // Update the icon color\n    event.currentTarget.style.color = color;\n    this.bonus.iconColor = color;\n  }\n\n  /** @inheritdoc */\n  async _updateObject(event, formData) {\n    // Update the bonus with the form data\n    foundry.utils.mergeObject(this.bonus, formData);\n    \n    // Update filters\n    for (const [id, filter] of Object.entries(this.activeFilters)) {\n      const field = enhancedBonusBuilder.abstract.DataFields.fields[id];\n      if (!field) continue;\n      \n      // Get the filter value from the form data\n      const key = `filters.${id}`;\n      if (formData[key] !== undefined) {\n        this.bonus.filters[id] = formData[key];\n      }\n    }\n    \n    // Get the bonuses from the document\n    const bonuses = foundry.utils.deepClone(this.document.getFlag(MODULE.ID, \"bonuses\") || {});\n    \n    // Update the bonus\n    bonuses[this.bonus.id] = this.bonus.toObject();\n    \n    // Update the document\n    await this.document.setFlag(MODULE.ID, \"bonuses\", bonuses);\n    \n    // Re-render the sheet\n    this.render();\n  }\n}","import { MODULE, BONUS_TYPES } from \"../constants.mjs\";\nimport api from \"../api.mjs\";\nimport BabonusSheet from \"./babonus-sheet.mjs\";\n\n/**\n * The application for creating new bonuses.\n */\nexport default class BabonusWorkshop extends Application {\n  /**\n   * @param {Document} document The document to create bonuses for.\n   * @param {object} options Application options.\n   */\n  constructor(document, options = {}) {\n    super(options);\n    this.document = document;\n    this.isNew = true;\n  }\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"enhanced-bonus-builder\", \"workshop\"],\n      template: MODULE.TEMPLATES.WORKSHOP,\n      width: 600,\n      height: 400,\n      resizable: true\n    });\n  }\n\n  /** @inheritdoc */\n  get title() {\n    return `${game.i18n.localize(\"ENHANCEDBONUSBUILDER.ModuleTitle\")}: ${game.i18n.localize(\"New\")}`;\n  }\n\n  /** @inheritdoc */\n  getData() {\n    const data = super.getData();\n    \n    // Add document data\n    data.parentName = this.document.name;\n    data.isNew = this.isNew;\n    data.iconColor = \"#4b6eaf\";\n    \n    // Add bonus types\n    data.bonusTypes = {};\n    data.icons = {};\n    \n    for (const type of Object.values(BONUS_TYPES)) {\n      data.bonusTypes[type] = `ENHANCEDBONUSBUILDER.BonusTypes.${type}`;\n      \n      // Set icons for each type\n      switch (type) {\n        case \"attackRoll\":\n          data.icons[type] = \"dice-d20\";\n          break;\n        case \"damageRoll\":\n          data.icons[type] = \"fire\";\n          break;\n        case \"savingThrowDc\":\n          data.icons[type] = \"shield\";\n          break;\n        case \"savingThrow\":\n          data.icons[type] = \"shield-alt\";\n          break;\n        case \"abilityCheck\":\n          data.icons[type] = \"check\";\n          break;\n        case \"hitDie\":\n          data.icons[type] = \"heart\";\n          break;\n        default:\n          data.icons[type] = \"calculator\";\n      }\n    }\n    \n    return data;\n  }\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    \n    // Handle bonus type selection\n    html.find('.bonus-type').click(this._onBonusTypeClick.bind(this));\n    \n    // Handle bonus icon\n    html.find('[data-action=\"bonus-icon\"]').click(this._onBonusIcon.bind(this));\n  }\n\n  /**\n   * Handle bonus type clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  async _onBonusTypeClick(event) {\n    const type = event.currentTarget.dataset.type;\n    \n    // Create a new bonus of the selected type\n    const bonus = api.createBonus(this.document, type);\n    \n    // Embed the bonus in the document\n    await api.embedBonus(this.document, bonus);\n    \n    // Close this workshop and open a sheet for the new bonus\n    this.close();\n    const sheet = new BabonusSheet({bonus});\n    sheet.render(true);\n  }\n\n  /**\n   * Handle bonus icon clicks.\n   * @param {Event} event The click event.\n   * @private\n   */\n  _onBonusIcon(event) {\n    // Generate a random color\n    const colors = [\n      \"#4b6eaf\", \"#af4b4b\", \"#4baf4b\", \"#af4baf\",\n      \"#4bafaf\", \"#afaf4b\", \"#af7a4b\", \"#7a4baf\"\n    ];\n    const color = colors[Math.floor(Math.random() * colors.length)];\n    \n    // Update the icon color\n    event.currentTarget.style.color = color;\n    this.iconColor = color;\n    \n    // Re-render\n    this.render();\n  }\n}","/**\n * A collection of bonuses for a document.\n */\nexport default class BonusCollection {\n  /**\n   * @param {Document} document The document to collect bonuses for.\n   */\n  constructor(document) {\n    this.document = document;\n    this.bonuses = [];\n    this._initialize();\n  }\n\n  /**\n   * Initialize the collection.\n   * @private\n   */\n  _initialize() {\n    const bonuses = this.document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") || {};\n    \n    for (const [id, data] of Object.entries(bonuses)) {\n      const Model = enhancedBonusBuilder.abstract.DataModels[data.type];\n      if (!Model) continue;\n      \n      const bonus = new Model(data, {parent: this.document});\n      this.bonuses.push(bonus);\n    }\n    \n    // Sort bonuses by sort order\n    this.bonuses.sort((a, b) => a.sort - b.sort);\n  }\n\n  /**\n   * Get all bonuses in the collection.\n   * @returns {Array<Babonus>} The bonuses.\n   */\n  getAll() {\n    return [...this.bonuses];\n  }\n\n  /**\n   * Get bonuses of a specific type.\n   * @param {string} type The type of bonuses to get.\n   * @returns {Array<Babonus>} The bonuses of the specified type.\n   */\n  getByType(type) {\n    return this.bonuses.filter(b => b.type === type);\n  }\n\n  /**\n   * Get enabled bonuses.\n   * @returns {Array<Babonus>} The enabled bonuses.\n   */\n  getEnabled() {\n    return this.bonuses.filter(b => b.enabled);\n  }\n\n  /**\n   * Get optional bonuses.\n   * @returns {Array<Babonus>} The optional bonuses.\n   */\n  getOptional() {\n    return this.bonuses.filter(b => b.optional);\n  }\n\n  /**\n   * Get bonuses that apply to a specific context.\n   * @param {object} context The context to check against.\n   * @returns {Promise<Array<Babonus>>} The applicable bonuses.\n   */\n  async getApplicable(context) {\n    const applicable = [];\n    \n    for (const bonus of this.bonuses) {\n      if (await bonus.applies(context)) {\n        applicable.push(bonus);\n      }\n    }\n    \n    return applicable;\n  }\n\n  /**\n   * Add a bonus to the collection.\n   * @param {Babonus} bonus The bonus to add.\n   * @returns {Promise<BonusCollection>} This collection.\n   */\n  async add(bonus) {\n    // Add the bonus to the document\n    const bonuses = foundry.utils.deepClone(this.document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") || {});\n    bonuses[bonus.id] = bonus.toObject();\n    await this.document.setFlag(\"enhanced-bonus-builder\", \"bonuses\", bonuses);\n    \n    // Add the bonus to the collection\n    this.bonuses.push(bonus);\n    \n    return this;\n  }\n\n  /**\n   * Remove a bonus from the collection.\n   * @param {string} id The ID of the bonus to remove.\n   * @returns {Promise<BonusCollection>} This collection.\n   */\n  async remove(id) {\n    // Remove the bonus from the document\n    const bonuses = foundry.utils.deepClone(this.document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") || {});\n    delete bonuses[id];\n    await this.document.setFlag(\"enhanced-bonus-builder\", \"bonuses\", bonuses);\n    \n    // Remove the bonus from the collection\n    this.bonuses = this.bonuses.filter(b => b.id !== id);\n    \n    return this;\n  }\n\n  /**\n   * Update a bonus in the collection.\n   * @param {Babonus} bonus The bonus to update.\n   * @returns {Promise<BonusCollection>} This collection.\n   */\n  async update(bonus) {\n    // Update the bonus in the document\n    const bonuses = foundry.utils.deepClone(this.document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") || {});\n    bonuses[bonus.id] = bonus.toObject();\n    await this.document.setFlag(\"enhanced-bonus-builder\", \"bonuses\", bonuses);\n    \n    // Update the bonus in the collection\n    const index = this.bonuses.findIndex(b => b.id === bonus.id);\n    if (index !== -1) {\n      this.bonuses[index] = bonus;\n    }\n    \n    return this;\n  }\n\n  /**\n   * Clear all bonuses from the collection.\n   * @returns {Promise<BonusCollection>} This collection.\n   */\n  async clear() {\n    // Clear the bonuses from the document\n    await this.document.unsetFlag(\"enhanced-bonus-builder\", \"bonuses\");\n    \n    // Clear the bonuses from the collection\n    this.bonuses = [];\n    \n    return this;\n  }\n}","import api from \"./api.mjs\";\n\n/**\n * Registry for tracking rolls and collecting applicable bonuses.\n */\nclass Registry {\n  constructor() {\n    this.registry = new Map();\n  }\n\n  /**\n   * Register a roll for bonus collection.\n   * @param {object} data The roll data.\n   * @returns {string} The registry ID.\n   */\n  register(data) {\n    const id = foundry.utils.randomID();\n    this.registry.set(id, data);\n    \n    // Clean up old entries after 5 minutes\n    setTimeout(() => this.registry.delete(id), 300000);\n    \n    return id;\n  }\n\n  /**\n   * Get a registered roll.\n   * @param {string} id The registry ID.\n   * @returns {object|undefined} The roll data.\n   */\n  get(id) {\n    return this.registry.get(id);\n  }\n\n  /**\n   * Collect bonuses for a roll.\n   * @param {string} type The type of roll.\n   * @param {object} context The roll context.\n   * @returns {Promise<Array>} The applicable bonuses.\n   */\n  async collect(type, context) {\n    const { actor } = context;\n    if (!actor) return [];\n    \n    const bonuses = [];\n    \n    // Get all documents with bonuses\n    const documents = api.findEmbeddedDocumentsWithBonuses(actor);\n    \n    // Check each document for applicable bonuses\n    for (const document of documents) {\n      const documentBonuses = document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n      \n      for (const [id, data] of Object.entries(documentBonuses)) {\n        // Skip bonuses of the wrong type\n        if (data.type !== type) continue;\n        \n        // Skip disabled bonuses\n        if (!data.enabled) continue;\n        \n        // Create the bonus model\n        const Model = enhancedBonusBuilder.abstract.DataModels[data.type];\n        if (!Model) continue;\n        \n        const bonus = new Model(data, { parent: document });\n        \n        // Check if the bonus applies\n        if (await bonus.applies(context)) {\n          bonuses.push(bonus);\n        }\n      }\n    }\n    \n    // Check for aura bonuses from other actors\n    await this._collectAuraBonuses(bonuses, type, context);\n    \n    return bonuses;\n  }\n\n  /**\n   * Collect aura bonuses from other actors.\n   * @param {Array} bonuses The array to add bonuses to.\n   * @param {string} type The type of roll.\n   * @param {object} context The roll context.\n   * @returns {Promise<void>}\n   * @private\n   */\n  async _collectAuraBonuses(bonuses, type, context) {\n    const { actor } = context;\n    if (!actor || !actor.token) return;\n    \n    const sourceToken = actor.token;\n    if (!sourceToken) return;\n    \n    // Get all tokens on the canvas\n    const tokens = canvas.tokens.placeables;\n    \n    // Check each token for aura bonuses\n    for (const token of tokens) {\n      if (!token.actor) continue;\n      \n      // Skip the source token\n      if (token.id === sourceToken.id) continue;\n      \n      // Get all documents with bonuses\n      const documents = api.findEmbeddedDocumentsWithBonuses(token.actor);\n      \n      // Check each document for applicable aura bonuses\n      for (const document of documents) {\n        const documentBonuses = document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n        \n        for (const [id, data] of Object.entries(documentBonuses)) {\n          // Skip bonuses of the wrong type\n          if (data.type !== type) continue;\n          \n          // Skip disabled bonuses\n          if (!data.enabled) continue;\n          \n          // Skip non-aura bonuses\n          if (!data.aura?.enabled) continue;\n          \n          // Create the bonus model\n          const Model = enhancedBonusBuilder.abstract.DataModels[data.type];\n          if (!Model) continue;\n          \n          const bonus = new Model(data, { parent: document });\n          \n          // Check if the aura applies\n          if (bonus.aura.applies(token, sourceToken)) {\n            // Check if the bonus applies\n            if (await bonus.applies(context)) {\n              bonuses.push(bonus);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nexport default new Registry();","import { MODULE, SETTINGS } from \"../constants.mjs\";\nimport registry from \"../registry.mjs\";\n\n/**\n * A dialog for selecting optional bonuses.\n */\nexport default class OptionalSelector extends Application {\n  /**\n   * @param {object} options The options for the dialog.\n   * @param {Dialog} options.dialog The dialog to attach to.\n   * @param {object} options.registry The registry entry.\n   * @param {string} options.type The type of roll.\n   * @param {object} options.options The roll options.\n   */\n  constructor(options) {\n    super();\n    this.dialog = options.dialog;\n    this.registry = options.registry;\n    this.type = options.type;\n    this.options = options.options;\n    this.bonuses = [];\n    this.selected = new Set();\n  }\n\n  /** @inheritdoc */\n  static get defaultOptions() {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      classes: [\"enhanced-bonus-builder\", \"optional-selector\"],\n      template: MODULE.TEMPLATES.OPTIONAL_BONUSES,\n      width: 400,\n      height: \"auto\",\n      resizable: false\n    });\n  }\n\n  /** @inheritdoc */\n  get title() {\n    return game.i18n.localize(\"ENHANCEDBONUSBUILDER.OptionalBonuses\");\n  }\n\n  /** @inheritdoc */\n  async getData() {\n    const data = super.getData();\n    \n    // Get optional bonuses\n    const { actor } = this.options;\n    if (!actor) return data;\n    \n    // Get all documents with bonuses\n    const documents = enhancedBonusBuilder.api.findEmbeddedDocumentsWithBonuses(actor);\n    \n    // Check each document for applicable optional bonuses\n    for (const document of documents) {\n      const documentBonuses = document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n      \n      for (const [id, bonusData] of Object.entries(documentBonuses)) {\n        // Skip bonuses of the wrong type\n        if (bonusData.type !== this.type) continue;\n        \n        // Skip non-optional bonuses\n        if (!bonusData.optional) continue;\n        \n        // Skip disabled bonuses\n        if (!bonusData.enabled) continue;\n        \n        // Create the bonus model\n        const Model = enhancedBonusBuilder.abstract.DataModels[bonusData.type];\n        if (!Model) continue;\n        \n        const bonus = new Model(bonusData, { parent: document });\n        \n        // Check if the bonus applies\n        if (await bonus.applies(this.registry)) {\n          this.bonuses.push(bonus);\n        }\n      }\n    }\n    \n    // Add bonuses to data\n    data.bonuses = this.bonuses;\n    data.selected = this.selected;\n    \n    // Evaluate bonus values\n    data.values = {};\n    for (const bonus of this.bonuses) {\n      try {\n        data.values[bonus.id] = await bonus.evaluateBonus();\n      } catch (error) {\n        console.error(\"Enhanced Bonus Builder | Error evaluating optional bonus:\", error);\n        data.values[bonus.id] = 0;\n      }\n    }\n    \n    return data;\n  }\n\n  /** @inheritdoc */\n  activateListeners(html) {\n    super.activateListeners(html);\n    \n    // Handle bonus toggle\n    html.find('.bonus-toggle').change(this._onBonusToggle.bind(this));\n    \n    // Handle apply button\n    html.find('[data-action=\"apply\"]').click(this._onApply.bind(this));\n    \n    // Handle cancel button\n    html.find('[data-action=\"cancel\"]').click(this._onCancel.bind(this));\n  }\n\n  /**\n   * Handle bonus toggle.\n   * @param {Event} event The change event.\n   * @private\n   */\n  _onBonusToggle(event) {\n    const bonusId = event.currentTarget.dataset.id;\n    \n    if (event.currentTarget.checked) {\n      this.selected.add(bonusId);\n    } else {\n      this.selected.delete(bonusId);\n    }\n  }\n\n  /**\n   * Handle apply button.\n   * @param {Event} event The click event.\n   * @private\n   */\n  async _onApply(event) {\n    // Store selected bonuses in the registry\n    this.registry.optionalBonuses = Array.from(this.selected).map(id => {\n      return this.bonuses.find(b => b.id === id);\n    }).filter(Boolean);\n    \n    // Close the dialog\n    this.close();\n    \n    // Continue with the roll\n    const button = this.dialog.element.find('button[data-button=\"ok\"]');\n    if (button.length) {\n      button.trigger('click');\n    }\n  }\n\n  /**\n   * Handle cancel button.\n   * @param {Event} event The click event.\n   * @private\n   */\n  _onCancel(event) {\n    // Close the dialog\n    this.close();\n  }\n\n  /** @inheritdoc */\n  async _render(force = false, options = {}) {\n    // Only render if there are optional bonuses and the setting is enabled\n    const showOptional = game.settings.get(MODULE.ID, SETTINGS.SHOW_OPTIONAL);\n    if (!showOptional || this.bonuses.length === 0) {\n      return this;\n    }\n    \n    return super._render(force, options);\n  }\n\n  /** @inheritdoc */\n  setPosition(options = {}) {\n    // Position below the dialog\n    if (this.dialog?.element) {\n      const dialogRect = this.dialog.element[0].getBoundingClientRect();\n      options.left = dialogRect.left;\n      options.top = dialogRect.bottom + 5;\n    }\n    \n    return super.setPosition(options);\n  }\n}","import BabonusSheet from \"./babonus-sheet.mjs\";\nimport BabonusWorkshop from \"./babonus-workshop.mjs\";\nimport BonusCollection from \"./bonus-collection.mjs\";\nimport OptionalSelector from \"./optional-selector.mjs\";\n\nexport default {\n  BabonusSheet,\n  BabonusWorkshop,\n  BonusCollection,\n  OptionalSelector\n};","/**\n * Base class for all filter fields.\n */\nexport default class BaseField {\n  /**\n   * Get the name of the field.\n   * @returns {string} The name of the field.\n   */\n  get name() {\n    return `ENHANCEDBONUSBUILDER.Filters.${this.constructor.name.replace(\"Field\", \"\").toLowerCase()}`;\n  }\n\n  /**\n   * Get the hint for the field.\n   * @returns {string} The hint for the field.\n   */\n  get hint() {\n    return `ENHANCEDBONUSBUILDER.Filters.${this.constructor.name.replace(\"Field\", \"\").toLowerCase()}.hint`;\n  }\n\n  /**\n   * Check if this field applies to a given bonus.\n   * @param {Babonus} bonus The bonus to check.\n   * @returns {boolean} Whether the field applies to the bonus.\n   */\n  appliesToBonus(bonus) {\n    return true;\n  }\n\n  /**\n   * Check if this field is available for a given document.\n   * @param {Document} document The document to check.\n   * @returns {boolean} Whether the field is available.\n   */\n  availableFor(document) {\n    return true;\n  }\n\n  /**\n   * Get the storage location for this field.\n   * @param {Babonus} bonus The bonus to get the storage for.\n   * @returns {object} The storage location.\n   */\n  storage(bonus) {\n    return bonus.filters;\n  }\n\n  /**\n   * Create the HTML for this field.\n   * @param {Babonus} bonus The bonus to create the HTML for.\n   * @returns {string} The HTML for the field.\n   */\n  createHTML(bonus) {\n    return `<div class=\"form-group\">\n      <label>${game.i18n.localize(this.name)}</label>\n      <div class=\"form-fields\">\n        <input type=\"text\" name=\"filters.${this.constructor.name.replace(\"Field\", \"\").toLowerCase()}\" value=\"${this.getValue(bonus) || \"\"}\">\n      </div>\n      <p class=\"hint\">${game.i18n.localize(this.hint)}</p>\n    </div>`;\n  }\n\n  /**\n   * Get the value of this field for a given bonus.\n   * @param {Babonus} bonus The bonus to get the value for.\n   * @returns {*} The value of the field.\n   */\n  getValue(bonus) {\n    const storage = this.storage(bonus);\n    const key = this.constructor.name.replace(\"Field\", \"\").toLowerCase();\n    return storage[key];\n  }\n\n  /**\n   * Set the value of this field for a given bonus.\n   * @param {Babonus} bonus The bonus to set the value for.\n   * @param {*} value The value to set.\n   * @returns {Babonus} The updated bonus.\n   */\n  setValue(bonus, value) {\n    const storage = this.storage(bonus);\n    const key = this.constructor.name.replace(\"Field\", \"\").toLowerCase();\n    storage[key] = value;\n    return bonus;\n  }\n\n  /**\n   * Check if this field applies to a given context.\n   * @param {Babonus} bonus The bonus to check.\n   * @param {*} filter The filter value.\n   * @param {object} context The context to check against.\n   * @returns {Promise<boolean>} Whether the field applies.\n   */\n  async applies(bonus, filter, context) {\n    return true;\n  }\n}","import BaseField from \"./base-field.mjs\";\nimport { ITEM_TYPES } from \"../constants.mjs\";\n\n/**\n * Filter for item types.\n */\nexport default class ItemTypeField extends BaseField {\n  /**\n   * @inheritdoc\n   */\n  appliesToBonus(bonus) {\n    return [\"attackRoll\", \"damageRoll\", \"savingThrowDc\"].includes(bonus.type);\n  }\n\n  /**\n   * @inheritdoc\n   */\n  createHTML(bonus) {\n    const value = this.getValue(bonus) || [];\n    const options = ITEM_TYPES.map(type => {\n      const selected = value.includes(type) ? \"checked\" : \"\";\n      return `<label class=\"checkbox\">\n        <input type=\"checkbox\" name=\"filters.itemType\" value=\"${type}\" ${selected}>\n        ${game.i18n.localize(`ITEM.Type${type.capitalize()}`)}\n      </label>`;\n    }).join(\"\");\n\n    return `<div class=\"form-group\">\n      <label>${game.i18n.localize(this.name)}</label>\n      <div class=\"form-fields\">\n        ${options}\n      </div>\n      <p class=\"hint\">${game.i18n.localize(this.hint)}</p>\n    </div>`;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  async applies(bonus, filter, context) {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item) return false;\n    \n    return filter.includes(item.type);\n  }\n}","import { MODULE } from \"../constants.mjs\";\n\nexport default class WeaponTypeField extends foundry.data.fields.StringField {\n  constructor(options = {}) {\n    super({\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.weaponType.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.weaponType.hint\",\n      choices: {\n        simpleM: \"DND5E.WeaponSimpleM\",\n        simpleR: \"DND5E.WeaponSimpleR\",\n        martialM: \"DND5E.WeaponMartialM\",\n        martialR: \"DND5E.WeaponMartialR\",\n        natural: \"DND5E.WeaponNatural\",\n        improvised: \"DND5E.WeaponImprovised\"\n      },\n      ...options\n    });\n  }\n}","import { MODULE, WEAPON_PROPERTIES } from \"../constants.mjs\";\n\nexport default class WeaponPropertiesField extends foundry.data.fields.SetField {\n  constructor(options = {}) {\n    const stringField = new foundry.data.fields.StringField({\n      choices: WEAPON_PROPERTIES.reduce((obj, wp) => {\n        obj[wp] = `ENHANCEDBONUSBUILDER.WEAPONPROPERTIES.${wp}`;\n        return obj;\n      }, {}),\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.weaponProperties.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.weaponProperties.hint\"\n    });\n    \n    super(stringField, {\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.weaponProperties.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.weaponProperties.hint\",\n      ...options\n    });\n  }\n}","import { MODULE } from \"../constants.mjs\";\n\nexport default class ArmorTypeField extends foundry.data.fields.StringField {\n  constructor(options = {}) {\n    super({\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.armorType.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.armorType.hint\",\n      choices: {\n        light: \"DND5E.ArmorLight\",\n        medium: \"DND5E.ArmorMedium\",\n        heavy: \"DND5E.ArmorHeavy\",\n        shield: \"DND5E.EquipmentShield\"\n      },\n      ...options\n    });\n  }\n}","import { MODULE } from \"../constants.mjs\";\n\nexport default class SpellLevelField extends foundry.data.fields.NumberField {\n  constructor(options = {}) {\n    super({\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.spellLevel.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.spellLevel.hint\",\n      min: 0,\n      max: 9,\n      step: 1,\n      ...options\n    });\n  }\n}","import { MODULE, SPELL_SCHOOLS } from \"../constants.mjs\";\n\nexport default class SpellSchoolField extends foundry.data.fields.StringField {\n  constructor(options = {}) {\n    super({\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.spellSchool.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.spellSchool.hint\",\n      choices: SPELL_SCHOOLS.reduce((obj, school) => {\n        obj[school] = `DND5E.SpellSchool${school.capitalize()}`;\n        return obj;\n      }, {}),\n      ...options\n    });\n  }\n}","import BaseField from \"./base-field.mjs\";\nimport { SPELL_COMPONENTS } from \"../constants.mjs\";\n\n/**\n * Filter for spell components.\n */\nexport default class SpellComponentsField extends BaseField {\n  /**\n   * @inheritdoc\n   */\n  appliesToBonus(bonus) {\n    return [\"attackRoll\", \"damageRoll\", \"savingThrowDc\"].includes(bonus.type);\n  }\n\n  /**\n   * @inheritdoc\n   */\n  createHTML(bonus) {\n    const value = this.getValue(bonus) || [];\n    const options = Object.entries(SPELL_COMPONENTS).map(([key, val]) => {\n      const selected = value.includes(val) ? \"checked\" : \"\";\n      return `<label class=\"checkbox\">\n        <input type=\"checkbox\" name=\"filters.spellComponents\" value=\"${val}\" ${selected}>\n        ${game.i18n.localize(`DND5E.SpellComponent${key}`)}\n      </label>`;\n    }).join(\"\");\n\n    return `<div class=\"form-group\">\n      <label>${game.i18n.localize(this.name)}</label>\n      <div class=\"form-fields\">\n        ${options}\n      </div>\n      <p class=\"hint\">${game.i18n.localize(this.hint)}</p>\n    </div>`;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  async applies(bonus, filter, context) {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item || item.type !== \"spell\") return false;\n    \n    const components = item.system.components || {};\n    \n    for (const component of filter) {\n      if (component === \"v\" && !components.vocal) return false;\n      if (component === \"s\" && !components.somatic) return false;\n      if (component === \"m\" && !components.material) return false;\n    }\n    \n    return true;\n  }\n}","import BaseField from \"./base-field.mjs\";\nimport { DAMAGE_TYPES } from \"../constants.mjs\";\n\n/**\n * Filter for damage types.\n */\nexport default class DamageTypesField extends BaseField {\n  /**\n   * @inheritdoc\n   */\n  appliesToBonus(bonus) {\n    return [\"attackRoll\", \"damageRoll\"].includes(bonus.type);\n  }\n\n  /**\n   * @inheritdoc\n   */\n  createHTML(bonus) {\n    const value = this.getValue(bonus) || [];\n    const options = DAMAGE_TYPES.map(type => {\n      const selected = value.includes(type) ? \"checked\" : \"\";\n      return `<label class=\"checkbox\">\n        <input type=\"checkbox\" name=\"filters.damageTypes\" value=\"${type}\" ${selected}>\n        ${game.i18n.localize(`DND5E.Damage${type.capitalize()}`)}\n      </label>`;\n    }).join(\"\");\n\n    return `<div class=\"form-group\">\n      <label>${game.i18n.localize(this.name)}</label>\n      <div class=\"form-fields\">\n        ${options}\n      </div>\n      <p class=\"hint\">${game.i18n.localize(this.hint)}</p>\n    </div>`;\n  }\n\n  /**\n   * @inheritdoc\n   */\n  async applies(bonus, filter, context) {\n    if (!filter || !filter.length) return true;\n    \n    const item = context.item;\n    if (!item) return false;\n    \n    // Check for damage types in the item\n    if (item.system.damage?.parts) {\n      for (const [, damageType] of item.system.damage.parts) {\n        if (filter.includes(damageType)) return true;\n      }\n    }\n    \n    // Check for damage types in the bonus itself\n    if (bonus.damageType && filter.includes(bonus.damageType)) return true;\n    \n    return false;\n  }\n}","import { MODULE, ABILITY_TYPES } from \"../constants.mjs\";\n\nexport default class AbilitiesField extends foundry.data.fields.SetField {\n  constructor(options = {}) {\n    const stringField = new foundry.data.fields.StringField({\n      choices: ABILITY_TYPES.reduce((obj, ability) => {\n        obj[ability] = `DND5E.Ability${ability.capitalize()}`;\n        return obj;\n      }, {}),\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.abilities.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.abilities.hint\"\n    });\n    \n    super(stringField, {\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.abilities.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.abilities.hint\",\n      ...options\n    });\n  }\n}","import { MODULE, SKILL_TYPES } from \"../constants.mjs\";\n\nexport default class SkillsField extends foundry.data.fields.SetField {\n  constructor(options = {}) {\n    const stringField = new foundry.data.fields.StringField({\n      choices: SKILL_TYPES.reduce((obj, skill) => {\n        obj[skill] = `DND5E.Skill${skill.capitalize()}`;\n        return obj;\n      }, {}),\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.skills.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.skills.hint\"\n    });\n    \n    super(stringField, {\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.skills.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.skills.hint\",\n      ...options\n    });\n  }\n}","import { MODULE } from \"../constants.mjs\";\n\nexport default class ProficiencyField extends foundry.data.fields.StringField {\n  constructor(options = {}) {\n    super({\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.proficiency.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.proficiency.hint\",\n      choices: {\n        proficient: \"DND5E.ProficiencyLevel1\",\n        expert: \"DND5E.ProficiencyLevel2\"\n      },\n      ...options\n    });\n  }\n}","import { MODULE } from \"../constants.mjs\";\n\nexport default class MarkersField extends foundry.data.fields.SetField {\n  constructor(options = {}) {\n    const stringField = new foundry.data.fields.StringField({\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.markers.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.markers.hint\"\n    });\n    \n    super(stringField, {\n      label: \"ENHANCEDBONUSBUILDER.FIELDS.markers.label\",\n      hint: \"ENHANCEDBONUSBUILDER.FIELDS.markers.hint\",\n      ...options\n    });\n  }\n}","import { MODULE } from \"../constants.mjs\";\n\nexport default class ConditionsField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.conditions.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.conditions.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class DistanceField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.distance.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.distance.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class EquippedField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.equipped.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.equipped.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class AttunementField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.attunement.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.attunement.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class PreparedField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.prepared.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.prepared.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class ConcentrationField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.concentration.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.concentration.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class RitualField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.ritual.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.ritual.hint`,\n      ...options\n    });\n  }\n}\n","import { MODULE } from \"../constants.mjs\";\n\nexport default class CriticalField extends foundry.data.fields.BooleanField {\n  constructor(options = {}) {\n    super({\n      label: `ENHANCEDBONUSBUILDER.FIELDS.critical.label`,\n      hint: `ENHANCEDBONUSBUILDER.FIELDS.critical.hint`,\n      ...options\n    });\n  }\n}\n","import ItemTypeField from \"./item-type-field.mjs\";\nimport WeaponTypeField from \"./weapon-type-field.mjs\";\nimport WeaponPropertiesField from \"./weapon-properties-field.mjs\";\nimport ArmorTypeField from \"./armor-type-field.mjs\";\nimport SpellLevelField from \"./spell-level-field.mjs\";\nimport SpellSchoolField from \"./spell-school-field.mjs\";\nimport SpellComponentsField from \"./spell-components-field.mjs\";\nimport DamageTypesField from \"./damage-types-field.mjs\";\nimport AbilitiesField from \"./abilities-field.mjs\";\nimport SkillsField from \"./skills-field.mjs\";\nimport ProficiencyField from \"./proficiency-field.mjs\";\nimport MarkersField from \"./markers-field.mjs\";\nimport ConditionsField from \"./conditions-field.mjs\";\nimport DistanceField from \"./distance-field.mjs\";\nimport EquippedField from \"./equipped-field.mjs\";\nimport AttunementField from \"./attunement-field.mjs\";\nimport PreparedField from \"./prepared-field.mjs\";\nimport ConcentrationField from \"./concentration-field.mjs\";\nimport RitualField from \"./ritual-field.mjs\";\nimport CriticalField from \"./critical-field.mjs\";\n\nexport default {\n  itemType: new ItemTypeField(),\n  weaponType: new WeaponTypeField(),\n  weaponProperties: new WeaponPropertiesField(),\n  armorType: new ArmorTypeField(),\n  spellLevel: new SpellLevelField(),\n  spellSchool: new SpellSchoolField(),\n  spellComponents: new SpellComponentsField(),\n  damageTypes: new DamageTypesField(),\n  abilities: new AbilitiesField(),\n  skills: new SkillsField(),\n  proficiency: new ProficiencyField(),\n  markers: new MarkersField(),\n  conditions: new ConditionsField(),\n  distance: new DistanceField(),\n  equipped: new EquippedField(),\n  attunement: new AttunementField(),\n  prepared: new PreparedField(),\n  concentration: new ConcentrationField(),\n  ritual: new RitualField(),\n  critical: new CriticalField()\n};","/**\n * Model for aura properties of a bonus.\n */\n\nconst { BooleanField, NumberField, SchemaField, SetField, StringField } = foundry.data.fields;\n\n/**\n * Configuration for the aura properties of a bonus.\n */\nexport default class AuraModel extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      enabled: new BooleanField({initial: false}),\n      template: new BooleanField({initial: false}),\n      range: new StringField({initial: \"30\"}),\n      self: new BooleanField({initial: false}),\n      disposition: new NumberField({initial: 0, integer: true, choices: [-1, 0, 1]}),\n      blockers: new SetField(new StringField()),\n      require: new SchemaField({\n        move: new BooleanField({initial: false}),\n        sight: new BooleanField({initial: false})\n      })\n    };\n  }\n\n  /**\n   * Check if this aura applies to a given target.\n   * @param {Token} source The source token.\n   * @param {Token} target The target token.\n   * @returns {boolean} Whether the aura applies.\n   */\n  applies(source, target) {\n    // If not enabled, aura doesn't apply\n    if (!this.enabled) return false;\n\n    // Check if target is self and self is allowed\n    const isSelf = source.id === target.id;\n    if (isSelf && !this.self) return false;\n\n    // Check disposition\n    if (this.disposition !== 0) {\n      const disposition = source.document.disposition * target.document.disposition;\n      if (this.disposition === 1 && disposition <= 0) return false;\n      if (this.disposition === -1 && disposition >= 0) return false;\n    }\n\n    // Check range\n    const range = parseInt(this.range);\n    if (!isNaN(range)) {\n      const distance = canvas.grid.measureDistance(source, target);\n      if (distance > range) return false;\n    }\n\n    // Check blockers\n    if (this.blockers.size > 0) {\n      const effects = target.actor?.effects.filter(e => e.statuses) ?? [];\n      for (const effect of effects) {\n        for (const status of effect.statuses) {\n          if (this.blockers.has(status)) return false;\n        }\n      }\n    }\n\n    // Check requirements\n    if (this.require.move || this.require.sight) {\n      // Check line of movement\n      if (this.require.move) {\n        const ray = new Ray(source.center, target.center);\n        const hasCollision = canvas.walls.checkCollision(ray);\n        if (hasCollision) return false;\n      }\n\n      // Check line of sight\n      if (this.require.sight) {\n        const sourceVision = source.vision;\n        if (!sourceVision) return false;\n        \n        // Check if target is within source's vision\n        const targetPoint = {x: target.center.x, y: target.center.y};\n        const inVision = sourceVision.contains(targetPoint.x, targetPoint.y);\n        if (!inVision) return false;\n      }\n    }\n\n    return true;\n  }\n}","/**\n * Model for consumption properties of a bonus.\n */\n\nconst { BooleanField, NumberField, SchemaField, StringField } = foundry.data.fields;\n\n/**\n * Configuration for how a bonus consumes a property.\n */\nexport default class ConsumptionModel extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      enabled: new BooleanField({initial: false}),\n      scales: new BooleanField({initial: false}),\n      type: new StringField({\n        choices: [\n          \"attributes\", \"currency\", \"resources\", \"uses\", \"charges\", \"slots\", \"hitDice\"\n        ]\n      }),\n      value: new SchemaField({\n        min: new StringField({initial: \"1\"}),\n        max: new StringField({initial: \"1\"}),\n        step: new NumberField({initial: 1, integer: true, min: 1})\n      }),\n      formula: new StringField({initial: \"@consumption\"})\n    };\n  }\n\n  /**\n   * Get the available consumption types for a given document.\n   * @param {Document} document The document to check.\n   * @returns {object} The available consumption types.\n   */\n  static getAvailableTypes(document) {\n    const types = {};\n    \n    // Actor-specific consumption types\n    if (document.documentName === \"Actor\") {\n      types.attributes = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.attributes\";\n      types.currency = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.currency\";\n      types.resources = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.resources\";\n      types.hitDice = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.hitDice\";\n    }\n    \n    // Item-specific consumption types\n    if (document.documentName === \"Item\") {\n      if (document.system.uses?.max) {\n        types.uses = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.uses\";\n      }\n      if (document.system.consume?.type === \"charges\") {\n        types.charges = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.charges\";\n      }\n      if (document.type === \"spell\") {\n        types.slots = \"ENHANCEDBONUSBUILDER.ConsumptionTypes.slots\";\n      }\n    }\n    \n    return types;\n  }\n\n  /**\n   * Get the available properties for a given consumption type and document.\n   * @param {string} type The consumption type.\n   * @param {Document} document The document to check.\n   * @returns {object} The available properties.\n   */\n  static getAvailableProperties(type, document) {\n    const properties = {};\n    \n    switch (type) {\n      case \"attributes\":\n        if (document.documentName === \"Actor\") {\n          for (const [key, attr] of Object.entries(document.system.attributes)) {\n            if (typeof attr === \"object\" && attr !== null && \"value\" in attr) {\n              properties[key] = key;\n            }\n          }\n        }\n        break;\n      case \"currency\":\n        if (document.documentName === \"Actor\") {\n          for (const [key, value] of Object.entries(document.system.currency)) {\n            if (typeof value === \"number\") {\n              properties[key] = key;\n            }\n          }\n        }\n        break;\n      case \"resources\":\n        if (document.documentName === \"Actor\") {\n          for (const [key, res] of Object.entries(document.system.resources)) {\n            if (typeof res === \"object\" && res !== null && \"value\" in res) {\n              properties[key] = key;\n            }\n          }\n        }\n        break;\n      case \"hitDice\":\n        if (document.documentName === \"Actor\") {\n          for (const [key, cls] of Object.entries(document.classes)) {\n            properties[key] = cls.name;\n          }\n        }\n        break;\n      case \"uses\":\n        if (document.documentName === \"Item\" && document.system.uses?.max) {\n          properties.uses = \"uses\";\n        }\n        break;\n      case \"charges\":\n        if (document.documentName === \"Item\" && document.system.consume?.type === \"charges\") {\n          properties.charges = \"charges\";\n        }\n        break;\n      case \"slots\":\n        if (document.documentName === \"Item\" && document.type === \"spell\") {\n          for (let i = 1; i <= 9; i++) {\n            properties[i] = `Level ${i}`;\n          }\n        }\n        break;\n    }\n    \n    return properties;\n  }\n\n  /**\n   * Consume the property.\n   * @param {Document} document The document to consume from.\n   * @param {string} property The property to consume.\n   * @param {number} amount The amount to consume.\n   * @returns {Promise<Document>} The updated document.\n   */\n  async consume(document, property, amount) {\n    const updates = {};\n    \n    switch (this.type) {\n      case \"attributes\":\n        if (document.documentName === \"Actor\") {\n          updates[`system.attributes.${property}.value`] = Math.max(0, document.system.attributes[property].value - amount);\n        }\n        break;\n      case \"currency\":\n        if (document.documentName === \"Actor\") {\n          updates[`system.currency.${property}`] = Math.max(0, document.system.currency[property] - amount);\n        }\n        break;\n      case \"resources\":\n        if (document.documentName === \"Actor\") {\n          updates[`system.resources.${property}.value`] = Math.max(0, document.system.resources[property].value - amount);\n        }\n        break;\n      case \"hitDice\":\n        if (document.documentName === \"Actor\") {\n          const cls = document.classes[property];\n          if (cls) {\n            updates[`system.classes.${property}.hitDiceUsed`] = Math.min(\n              cls.system.levels,\n              cls.system.hitDiceUsed + amount\n            );\n          }\n        }\n        break;\n      case \"uses\":\n        if (document.documentName === \"Item\" && document.system.uses?.max) {\n          updates[\"system.uses.value\"] = Math.max(0, document.system.uses.value - amount);\n        }\n        break;\n      case \"charges\":\n        if (document.documentName === \"Item\" && document.system.consume?.type === \"charges\") {\n          const target = document.system.consume.target;\n          const item = document.actor.items.get(target);\n          if (item) {\n            await item.update({\n              \"system.uses.value\": Math.max(0, item.system.uses.value - amount)\n            });\n          }\n        }\n        break;\n      case \"slots\":\n        if (document.documentName === \"Item\" && document.type === \"spell\") {\n          const level = parseInt(property);\n          if (!isNaN(level) && document.actor) {\n            const spells = document.actor.system.spells;\n            if (spells[`spell${level}`]) {\n              updates[`system.spells.spell${level}.value`] = Math.max(\n                0,\n                spells[`spell${level}`].value - amount\n              );\n            }\n          }\n        }\n        break;\n    }\n    \n    if (Object.keys(updates).length > 0) {\n      return document.update(updates);\n    }\n    \n    return document;\n  }\n\n  /**\n   * Get the current value of the property.\n   * @param {Document} document The document to check.\n   * @param {string} property The property to check.\n   * @returns {number} The current value.\n   */\n  getCurrentValue(document, property) {\n    switch (this.type) {\n      case \"attributes\":\n        if (document.documentName === \"Actor\") {\n          return document.system.attributes[property]?.value ?? 0;\n        }\n        break;\n      case \"currency\":\n        if (document.documentName === \"Actor\") {\n          return document.system.currency[property] ?? 0;\n        }\n        break;\n      case \"resources\":\n        if (document.documentName === \"Actor\") {\n          return document.system.resources[property]?.value ?? 0;\n        }\n        break;\n      case \"hitDice\":\n        if (document.documentName === \"Actor\") {\n          const cls = document.classes[property];\n          if (cls) {\n            return cls.system.levels - cls.system.hitDiceUsed;\n          }\n        }\n        break;\n      case \"uses\":\n        if (document.documentName === \"Item\" && document.system.uses?.max) {\n          return document.system.uses.value;\n        }\n        break;\n      case \"charges\":\n        if (document.documentName === \"Item\" && document.system.consume?.type === \"charges\") {\n          const target = document.system.consume.target;\n          const item = document.actor.items.get(target);\n          if (item) {\n            return item.system.uses.value;\n          }\n        }\n        break;\n      case \"slots\":\n        if (document.documentName === \"Item\" && document.type === \"spell\") {\n          const level = parseInt(property);\n          if (!isNaN(level) && document.actor) {\n            const spells = document.actor.system.spells;\n            if (spells[`spell${level}`]) {\n              return spells[`spell${level}`].value;\n            }\n          }\n        }\n        break;\n    }\n    \n    return 0;\n  }\n\n  /**\n   * Get the maximum value of the property.\n   * @param {Document} document The document to check.\n   * @param {string} property The property to check.\n   * @returns {number} The maximum value.\n   */\n  getMaxValue(document, property) {\n    switch (this.type) {\n      case \"attributes\":\n        if (document.documentName === \"Actor\") {\n          return document.system.attributes[property]?.max ?? 0;\n        }\n        break;\n      case \"currency\":\n        if (document.documentName === \"Actor\") {\n          return Infinity;\n        }\n        break;\n      case \"resources\":\n        if (document.documentName === \"Actor\") {\n          return document.system.resources[property]?.max ?? 0;\n        }\n        break;\n      case \"hitDice\":\n        if (document.documentName === \"Actor\") {\n          const cls = document.classes[property];\n          if (cls) {\n            return cls.system.levels;\n          }\n        }\n        break;\n      case \"uses\":\n        if (document.documentName === \"Item\" && document.system.uses?.max) {\n          return document.system.uses.max;\n        }\n        break;\n      case \"charges\":\n        if (document.documentName === \"Item\" && document.system.consume?.type === \"charges\") {\n          const target = document.system.consume.target;\n          const item = document.actor.items.get(target);\n          if (item) {\n            return item.system.uses.max;\n          }\n        }\n        break;\n      case \"slots\":\n        if (document.documentName === \"Item\" && document.type === \"spell\") {\n          const level = parseInt(property);\n          if (!isNaN(level) && document.actor) {\n            const spells = document.actor.system.spells;\n            if (spells[`spell${level}`]) {\n              return spells[`spell${level}`].max;\n            }\n          }\n        }\n        break;\n    }\n    \n    return 0;\n  }\n}","/**\n * Model for modifiers properties of a bonus.\n */\n\nconst { BooleanField, StringField } = foundry.data.fields;\n\n/**\n * Configuration for the modifiers of a bonus.\n */\nexport default class ModifiersModel extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      enabled: new BooleanField({initial: false}),\n      formula: new StringField({initial: \"\"}),\n      target: new StringField({\n        choices: [\"actor\", \"item\", \"roll\", \"target\"]\n      }),\n      mode: new StringField({\n        choices: [\"add\", \"multiply\", \"override\", \"upgrade\", \"downgrade\"]\n      }),\n      priority: new StringField({\n        choices: [\"low\", \"normal\", \"high\", \"critical\"]\n      })\n    };\n  }\n\n  /**\n   * Apply the modifier to a value.\n   * @param {number} value The value to modify.\n   * @param {object} rollData The roll data.\n   * @returns {number} The modified value.\n   */\n  async apply(value, rollData) {\n    if (!this.enabled || !this.formula) return value;\n    \n    try {\n      const roll = await new Roll(this.formula, rollData).evaluate({async: true});\n      const modifier = roll.total;\n      \n      switch (this.mode) {\n        case \"add\":\n          return value + modifier;\n        case \"multiply\":\n          return value * modifier;\n        case \"override\":\n          return modifier;\n        case \"upgrade\":\n          return Math.max(value, modifier);\n        case \"downgrade\":\n          return Math.min(value, modifier);\n        default:\n          return value;\n      }\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error applying modifier:\", error);\n      return value;\n    }\n  }\n\n  /**\n   * Get the priority value for sorting.\n   * @returns {number} The priority value.\n   */\n  getPriorityValue() {\n    switch (this.priority) {\n      case \"low\": return 0;\n      case \"normal\": return 1;\n      case \"high\": return 2;\n      case \"critical\": return 3;\n      default: return 1;\n    }\n  }\n\n  /**\n   * Compare two modifiers by priority.\n   * @param {ModifiersModel} a The first modifier.\n   * @param {ModifiersModel} b The second modifier.\n   * @returns {number} The comparison result.\n   */\n  static compare(a, b) {\n    return a.getPriorityValue() - b.getPriorityValue();\n  }\n}","import fields from \"../fields/_module.mjs\";\nimport AuraModel from \"./aura-model.mjs\";\nimport ConsumptionModel from \"./consumption-model.mjs\";\nimport ModifiersModel from \"./modifiers-model.mjs\";\n\nconst {\n  BooleanField, DocumentIdField, EmbeddedDataField,\n  FilePathField, HTMLField, IntegerSortField,\n  ObjectField, SchemaField, SetField, StringField\n} = foundry.data.fields;\n\n/**\n * Configuration for how a bonus consumes a property.\n *\n * @typedef {object} ConsumptionModel\n * @property {boolean} enabled Whether the bonus consumes a property.\n * @property {boolean} scales Whether the bonus scales with its consumed property\n * @property {string} type The type of the consumed property.\n * @property {object} value\n * @property {string} value.min The minimum amount the bonus consumes\n * @property {string} value.max The maximum amount the bonus consumes\n * @property {number} value.step The interval size between the min and max\n * @property {string} formula The formula used to scale up the bonus.\n */\n\n/**\n * Configuration for the aura properties of a bonus.\n *\n * @typedef {object} AuraModel\n * @property {boolean} enabled Whether the bonus is an aura\n * @property {boolean} template Whether the bonus is an aura on a template.\n * @property {string} range The range of the aura.\n * @property {boolean} self Whether the aura can also affect its owner\n * @property {number} disposition The type of actors, by token disposition, to affect with the aura.\n * @property {Set<string>} blockers Statuses that disable this aura when its owner is affected.\n * @property {object} require\n * @property {boolean} require.move Whether the aura requires a direct, unobstructed path of movement.\n * @property {boolean} require.sight Whether the aura requires a direct line of sight.\n */\n\n/**\n * Configuration for the modifiers of a bonus.\n *\n * @typedef {object} ModifiersModel\n * @property {boolean} enabled Whether the bonus has modifiers.\n * @property {string} formula The formula used to calculate the modifier.\n * @property {string} target The target of the modifier.\n * @property {string} mode The mode of the modifier.\n * @property {string} priority The priority of the modifier.\n */\n\n/**\n * The base data model for a bonus.\n */\nexport class Babonus extends foundry.abstract.DataModel {\n  /** @inheritdoc */\n  static defineSchema() {\n    return {\n      id: new DocumentIdField({required: true}),\n      name: new StringField({required: true, blank: false}),\n      img: new FilePathField({required: true, categories: [\"IMAGE\"], initial: \"icons/svg/upgrade.svg\"}),\n      type: new StringField({required: true, choices: [\n        \"attackRoll\", \"damageRoll\", \"savingThrowDc\", \"savingThrow\", \"abilityCheck\", \"hitDie\"\n      ]}),\n      description: new HTMLField(),\n      bonus: new StringField({required: true, blank: false, initial: \"1\"}),\n      enabled: new BooleanField({initial: true}),\n      optional: new BooleanField(),\n      consumption: new EmbeddedDataField(ConsumptionModel),\n      aura: new EmbeddedDataField(AuraModel),\n      modifiers: new EmbeddedDataField(ModifiersModel),\n      filters: new ObjectField(),\n      sort: new IntegerSortField()\n    };\n  }\n\n  /**\n   * Get the parent document that owns this bonus.\n   * @returns {Document} The parent document.\n   */\n  get parent() {\n    return this._parent;\n  }\n\n  /**\n   * Get the UUID of the parent document.\n   * @returns {string} The UUID of the parent document.\n   */\n  get parentUuid() {\n    return this.parent.uuid;\n  }\n\n  /**\n   * Get the actor that owns this bonus.\n   * @returns {Actor|null} The actor, or null if not owned by an actor.\n   */\n  get actor() {\n    return this.parent.documentName === \"Actor\" ? this.parent : this.parent.actor;\n  }\n\n  /**\n   * Get the UUID of the actor that owns this bonus.\n   * @returns {string|null} The UUID of the actor, or null if not owned by an actor.\n   */\n  get actorUuid() {\n    return this.actor?.uuid ?? null;\n  }\n\n  /**\n   * Get the item that owns this bonus.\n   * @returns {Item|null} The item, or null if not owned by an item.\n   */\n  get item() {\n    return this.parent.documentName === \"Item\" ? this.parent : null;\n  }\n\n  /**\n   * Get the UUID of the item that owns this bonus.\n   * @returns {string|null} The UUID of the item, or null if not owned by an item.\n   */\n  get itemUuid() {\n    return this.item?.uuid ?? null;\n  }\n\n  /**\n   * Get the effect that owns this bonus.\n   * @returns {ActiveEffect|null} The effect, or null if not owned by an effect.\n   */\n  get effect() {\n    return this.parent.documentName === \"ActiveEffect\" ? this.parent : null;\n  }\n\n  /**\n   * Get the UUID of the effect that owns this bonus.\n   * @returns {string|null} The UUID of the effect, or null if not owned by an effect.\n   */\n  get effectUuid() {\n    return this.effect?.uuid ?? null;\n  }\n\n  /**\n   * Get the region that owns this bonus.\n   * @returns {RegionConfig|null} The region, or null if not owned by a region.\n   */\n  get region() {\n    return this.parent.documentName === \"RegionConfig\" ? this.parent : null;\n  }\n\n  /**\n   * Get the UUID of the region that owns this bonus.\n   * @returns {string|null} The UUID of the region, or null if not owned by a region.\n   */\n  get regionUuid() {\n    return this.region?.uuid ?? null;\n  }\n\n  /**\n   * Get the roll data for this bonus.\n   * @returns {object} The roll data.\n   */\n  getRollData() {\n    const rollData = {};\n    if (this.actor) foundry.utils.mergeObject(rollData, this.actor.getRollData());\n    if (this.item) rollData.item = this.item.toObject();\n    return rollData;\n  }\n\n  /**\n   * Evaluate the bonus formula.\n   * @param {object} [data={}] Additional data to include in the roll data.\n   * @returns {number} The evaluated bonus.\n   */\n  async evaluateBonus(data = {}) {\n    const rollData = foundry.utils.mergeObject(this.getRollData(), data);\n    const roll = await new Roll(this.bonus, rollData).evaluate({async: true});\n    return roll.total;\n  }\n\n  /**\n   * Check if this bonus applies to a given context.\n   * @param {object} context The context to check against.\n   * @returns {boolean} Whether the bonus applies.\n   */\n  async applies(context) {\n    // Check if the bonus is enabled\n    if (!this.enabled) return false;\n\n    // Check filters\n    for (const [id, filter] of Object.entries(this.filters)) {\n      const field = fields[id];\n      if (!field) continue;\n      if (!await field.applies(this, filter, context)) return false;\n    }\n\n    return true;\n  }\n}\n\n/**\n * Data models for different types of bonuses.\n */\nexport default {\n  attackRoll: class AttackRollBonus extends Babonus {\n    static defineSchema() {\n      return foundry.utils.mergeObject(super.defineSchema(), {\n        // Add attack roll specific fields here\n      });\n    }\n  },\n  damageRoll: class DamageRollBonus extends Babonus {\n    static defineSchema() {\n      return foundry.utils.mergeObject(super.defineSchema(), {\n        damageType: new StringField({choices: [\n          \"acid\", \"bludgeoning\", \"cold\", \"fire\", \"force\", \n          \"lightning\", \"necrotic\", \"piercing\", \"poison\", \n          \"psychic\", \"radiant\", \"slashing\", \"thunder\",\n          \"healing\"\n        ]}),\n        critical: new BooleanField()\n      });\n    }\n  },\n  savingThrowDc: class SavingThrowDcBonus extends Babonus {\n    static defineSchema() {\n      return foundry.utils.mergeObject(super.defineSchema(), {\n        // Add saving throw DC specific fields here\n      });\n    }\n  },\n  savingThrow: class SavingThrowBonus extends Babonus {\n    static defineSchema() {\n      return foundry.utils.mergeObject(super.defineSchema(), {\n        ability: new SetField(new StringField({choices: [\"str\", \"dex\", \"con\", \"int\", \"wis\", \"cha\"]}))\n      });\n    }\n  },\n  abilityCheck: class AbilityCheckBonus extends Babonus {\n    static defineSchema() {\n      return foundry.utils.mergeObject(super.defineSchema(), {\n        ability: new SetField(new StringField({choices: [\"str\", \"dex\", \"con\", \"int\", \"wis\", \"cha\"]})),\n        skill: new SetField(new StringField({choices: [\n          \"acr\", \"ani\", \"arc\", \"ath\", \"dec\", \"his\", \n          \"ins\", \"itm\", \"inv\", \"med\", \"nat\", \"prc\", \n          \"prf\", \"per\", \"rel\", \"slt\", \"ste\", \"sur\"\n        ]}))\n      });\n    }\n  },\n  hitDie: class HitDieBonus extends Babonus {\n    static defineSchema() {\n      return foundry.utils.mergeObject(super.defineSchema(), {\n        // Add hit die specific fields here\n      });\n    }\n  }\n};","import { Babonus } from \"./babonus-model.mjs\";\nimport BabonusModels from \"./babonus-model.mjs\";\nimport AuraModel from \"./aura-model.mjs\";\nimport ConsumptionModel from \"./consumption-model.mjs\";\nimport ModifiersModel from \"./modifiers-model.mjs\";\n\nexport default {\n  Babonus,\n  ...BabonusModels,\n  AuraModel,\n  ConsumptionModel,\n  ModifiersModel\n};","import applications from \"./applications/_module.mjs\";\nimport models from \"./models/_module.mjs\";\n\nexport default {\n  applyMarkers: applyMarkers,\n  createBonus: createBonus,\n  duplicateBonus: duplicateBonus,\n  embedBonus: embedBonus,\n  findEmbeddedDocumentsWithBonuses: findEmbeddedDocumentsWithBonuses,\n  fromUuid: bonusFromUuid,\n  fromUuidSync: bonusFromUuidSync,\n  getCollection: getCollection,\n  hasArmorProficiency: hasArmorProficiency,\n  hasToolProficiency: hasToolProficiency,\n  hasWeaponProficiency: hasWeaponProficiency,\n  hotbarToggle: hotbarToggle,\n  openBonusWorkshop: openBonusWorkshop,\n  openBonusWorkshopForActor: openBonusWorkshopForActor,\n  proficiencyTree: proficiencyTree,\n  speaksLanguage: speaksLanguage\n};\n\n/**\n * Apply markers to a document for the 'Markers' filter\n * @param {Document} document The target document.\n * @returns {Promise<Document|null>} A promise that resolves to the result of the dialog prompt.\n */\nasync function applyMarkers(document) {\n  const { SetField, StringField } = foundry.data.fields;\n  const field = new SetField(new StringField());\n  const value = document.getFlag(\"enhanced-bonus-builder\", \"markers\") ?? [];\n  const html = field.toFormGroup({\n    label: \"ENHANCEDBONUSBUILDER.MarkersDialog.field.label\",\n    hint: \"ENHANCEDBONUSBUILDER.MarkersDialog.field.hint\",\n    localize: true\n  }, {value: value, name: \"markers\", slug: true}).outerHTML;\n\n  return foundry.applications.api.DialogV2.prompt({\n    rejectClose: false,\n    title: \"ENHANCEDBONUSBUILDER.MarkersDialog.title\",\n    content: html,\n    buttons: {\n      submit: {\n        label: \"ENHANCEDBONUSBUILDER.MarkersDialog.submit\",\n        icon: \"fas fa-check\",\n        callback: async (html) => {\n          const form = html.querySelector(\"form\");\n          const fd = new FormDataExtended(form);\n          const markers = fd.object.markers ?? [];\n          return document.setFlag(\"enhanced-bonus-builder\", \"markers\", markers);\n        }\n      },\n      cancel: {\n        label: \"ENHANCEDBONUSBUILDER.MarkersDialog.cancel\",\n        icon: \"fas fa-times\"\n      }\n    }\n  });\n}\n\n/**\n * Create a new bonus for a document.\n * @param {Document} document The document to create the bonus for.\n * @param {string} type The type of bonus to create.\n * @param {object} [data={}] Initial data for the bonus.\n * @returns {models.Babonus} The created bonus.\n */\nfunction createBonus(document, type, data = {}) {\n  const Model = models[type];\n  if (!Model) throw new Error(`Invalid bonus type: ${type}`);\n  \n  const id = foundry.utils.randomID();\n  const bonus = new Model({\n    id,\n    name: game.i18n.localize(\"ENHANCEDBONUSBUILDER.NewBonus\"),\n    type,\n    ...data\n  }, {parent: document});\n  \n  return bonus;\n}\n\n/**\n * Duplicate an existing bonus.\n * @param {models.Babonus} bonus The bonus to duplicate.\n * @returns {models.Babonus} The duplicated bonus.\n */\nfunction duplicateBonus(bonus) {\n  const data = foundry.utils.deepClone(bonus.toObject());\n  data.id = foundry.utils.randomID();\n  data.name = `${data.name} (${game.i18n.localize(\"ENHANCEDBONUSBUILDER.Copy\")})`;\n  \n  const Model = models[bonus.type];\n  return new Model(data, {parent: bonus.parent});\n}\n\n/**\n * Embed a bonus in a document.\n * @param {Document} document The document to embed the bonus in.\n * @param {models.Babonus} bonus The bonus to embed.\n * @returns {Promise<Document>} The updated document.\n */\nasync function embedBonus(document, bonus) {\n  const bonuses = document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n  bonuses[bonus.id] = bonus.toObject();\n  \n  return document.setFlag(\"enhanced-bonus-builder\", \"bonuses\", bonuses);\n}\n\n/**\n * Find all embedded documents with bonuses.\n * @param {Actor} actor The actor to search.\n * @returns {Document[]} The embedded documents with bonuses.\n */\nfunction findEmbeddedDocumentsWithBonuses(actor) {\n  const documents = [];\n  \n  // Check actor\n  if (actor.getFlag(\"enhanced-bonus-builder\", \"bonuses\")) {\n    documents.push(actor);\n  }\n  \n  // Check items\n  for (const item of actor.items) {\n    if (item.getFlag(\"enhanced-bonus-builder\", \"bonuses\")) {\n      documents.push(item);\n    }\n  }\n  \n  // Check effects\n  for (const effect of actor.effects) {\n    if (effect.getFlag(\"enhanced-bonus-builder\", \"bonuses\")) {\n      documents.push(effect);\n    }\n  }\n  \n  return documents;\n}\n\n/**\n * Get a bonus from a UUID.\n * @param {string} uuid The UUID of the document.\n * @param {string} bonusId The ID of the bonus.\n * @returns {Promise<models.Babonus|null>} The bonus, or null if not found.\n */\nasync function bonusFromUuid(uuid, bonusId) {\n  const document = await fromUuid(uuid);\n  if (!document) return null;\n  \n  const bonuses = document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n  const data = bonuses[bonusId];\n  if (!data) return null;\n  \n  const Model = models[data.type];\n  if (!Model) return null;\n  \n  return new Model(data, {parent: document});\n}\n\n/**\n * Get a bonus from a UUID synchronously.\n * @param {string} uuid The UUID of the document.\n * @param {string} bonusId The ID of the bonus.\n * @returns {models.Babonus|null} The bonus, or null if not found.\n */\nfunction bonusFromUuidSync(uuid, bonusId) {\n  const document = fromUuidSync(uuid);\n  if (!document) return null;\n  \n  const bonuses = document.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n  const data = bonuses[bonusId];\n  if (!data) return null;\n  \n  const Model = models[data.type];\n  if (!Model) return null;\n  \n  return new Model(data, {parent: document});\n}\n\n/**\n * Get a collection of bonuses for a document.\n * @param {Document} document The document to get bonuses for.\n * @returns {applications.BonusCollection} The collection of bonuses.\n */\nfunction getCollection(document) {\n  return new applications.BonusCollection(document);\n}\n\n/**\n * Check if an actor has proficiency with an armor.\n * @param {Actor} actor The actor to check.\n * @param {Item} item The armor item.\n * @returns {boolean} Whether the actor has proficiency.\n */\nfunction hasArmorProficiency(actor, item) {\n  if (!actor || !item || item.type !== \"equipment\" || item.system.armor?.type === \"shield\") {\n    return false;\n  }\n  \n  const armorProf = actor.system.traits?.armorProf ?? {};\n  const armor = item.system.armor?.type;\n  \n  if (!armor || armorProf.value?.includes(armor)) return true;\n  \n  // Check custom proficiencies\n  if (armorProf.custom) {\n    const custom = armorProf.custom.toLowerCase();\n    const name = item.name.toLowerCase();\n    return custom.split(\";\").some(c => name.includes(c.trim()));\n  }\n  \n  return false;\n}\n\n/**\n * Check if an actor has proficiency with a tool.\n * @param {Actor} actor The actor to check.\n * @param {Item} item The tool item.\n * @returns {boolean} Whether the actor has proficiency.\n */\nfunction hasToolProficiency(actor, item) {\n  if (!actor || !item || item.type !== \"tool\") return false;\n  \n  const toolProf = actor.system.traits?.toolProf ?? {};\n  const tool = item.system.toolType;\n  \n  if (toolProf.value?.includes(tool)) return true;\n  \n  // Check custom proficiencies\n  if (toolProf.custom) {\n    const custom = toolProf.custom.toLowerCase();\n    const name = item.name.toLowerCase();\n    return custom.split(\";\").some(c => name.includes(c.trim()));\n  }\n  \n  return false;\n}\n\n/**\n * Check if an actor has proficiency with a weapon.\n * @param {Actor} actor The actor to check.\n * @param {Item} item The weapon item.\n * @returns {boolean} Whether the actor has proficiency.\n */\nfunction hasWeaponProficiency(actor, item) {\n  if (!actor || !item || item.type !== \"weapon\") return false;\n  \n  const weaponProf = actor.system.traits?.weaponProf ?? {};\n  const weapon = item.system.weaponType;\n  \n  if (weaponProf.value?.includes(weapon)) return true;\n  \n  // Check for simple/martial proficiency\n  const isMartial = item.system.properties?.mar;\n  const isSimple = !isMartial;\n  \n  if ((isSimple && weaponProf.value?.includes(\"sim\")) || \n      (isMartial && weaponProf.value?.includes(\"mar\"))) {\n    return true;\n  }\n  \n  // Check custom proficiencies\n  if (weaponProf.custom) {\n    const custom = weaponProf.custom.toLowerCase();\n    const name = item.name.toLowerCase();\n    return custom.split(\";\").some(c => name.includes(c.trim()));\n  }\n  \n  return false;\n}\n\n/**\n * Toggle a bonus on the hotbar.\n * @param {string} uuid The UUID of the document.\n * @param {string} bonusId The ID of the bonus.\n * @returns {Promise<boolean>} Whether the bonus was toggled.\n */\nasync function hotbarToggle(uuid, bonusId) {\n  const bonus = await bonusFromUuid(uuid, bonusId);\n  if (!bonus) return false;\n  \n  const enabled = !bonus.enabled;\n  const bonuses = bonus.parent.getFlag(\"enhanced-bonus-builder\", \"bonuses\") ?? {};\n  bonuses[bonusId].enabled = enabled;\n  \n  await bonus.parent.setFlag(\"enhanced-bonus-builder\", \"bonuses\", bonuses);\n  \n  // Show notification\n  const status = enabled ? \"ENHANCEDBONUSBUILDER.Enabled\" : \"ENHANCEDBONUSBUILDER.Disabled\";\n  ui.notifications.info(`${bonus.name}: ${game.i18n.localize(status)}`);\n  \n  return true;\n}\n\n/**\n * Open the bonus workshop for a document.\n * @param {Document} document The document to open the workshop for.\n * @returns {applications.BabonusWorkshop} The workshop application.\n */\nfunction openBonusWorkshop(document) {\n  const workshop = new applications.BabonusWorkshop(document);\n  workshop.render(true);\n  return workshop;\n}\n\n/**\n * Open bonus workshop for the selected actor (for macro use)\n * @returns {Promise\n\n/**\n * Get the proficiency tree for an actor.\n * @param {Actor} actor The actor to get the proficiency tree for.\n * @returns {object} The proficiency tree.\n */\nfunction proficiencyTree(actor) {\n  if (!actor) return {};\n  \n  const tree = {};\n  const traits = actor.system.traits ?? {};\n  \n  // Armor proficiencies\n  tree.armor = {};\n  if (traits.armorProf?.value) {\n    for (const prof of traits.armorProf.value) {\n      tree.armor[prof] = true;\n    }\n  }\n  \n  // Weapon proficiencies\n  tree.weapon = {};\n  if (traits.weaponProf?.value) {\n    for (const prof of traits.weaponProf.value) {\n      tree.weapon[prof] = true;\n    }\n  }\n  \n  // Tool proficiencies\n  tree.tool = {};\n  if (traits.toolProf?.value) {\n    for (const prof of traits.toolProf.value) {\n      tree.tool[prof] = true;\n    }\n  }\n  \n  return tree;\n}\n\n/**\n * Check if an actor speaks a language.\n * @param {Actor} actor The actor to check.\n * @param {string} language The language to check.\n * @returns {boolean} Whether the actor speaks the language.\n */\nfunction speaksLanguage(actor, language) {\n  if (!actor || !language) return false;\n  \n  const langs = actor.system.traits?.languages ?? {};\n  \n  if (langs.value?.includes(language)) return true;\n  \n  // Check custom languages\n  if (langs.custom) {\n    const custom = langs.custom.toLowerCase();\n    language = language.toLowerCase();\n    return custom.split(\";\").some(l => l.trim() === language);\n  }\n  \n  return false;\n}\n/**\n * Open bonus workshop for the selected actor (for macro use)\n * @returns {Promise<applications.BabonusWorkshop|null>} The workshop instance or null if no actor selected\n */\nasync function openBonusWorkshopForActor() {\n  const actor = game.user.character || canvas.tokens.controlled[0]?.actor;\n  if (!actor) {\n    ui.notifications.warn(\"Please select an actor or token first.\");\n    return null;\n  }\n  const workshop = new applications.BabonusWorkshop(actor);\n  workshop.render(true);\n  return workshop;\n}\n","import { MODULE, SETTINGS } from \"../constants.mjs\";\nimport api from \"../api.mjs\";\nimport BabonusSheet from \"./babonus-sheet.mjs\";\nimport BabonusWorkshop from \"./babonus-workshop.mjs\";\n\n/**\n * Set up the character sheet tab.\n */\nexport default function characterSheetTabSetup() {\n  // Add the tab to character sheets\n  Hooks.on(\"renderActorSheet5e\", (app, html, data) => {\n    // Skip if the setting is disabled\n    if (!game.settings.get(MODULE.ID, SETTINGS.SHOW_SHEET_TAB)) return;\n    \n    // Add the tab button\n    const tabs = html.find('.tabs[data-group=\"primary\"]');\n    if (tabs.length === 0) return;\n    \n    const tabButton = $(`<a class=\"item\" data-tab=\"bonuses\">\n      <i class=\"fas fa-calculator\"></i> ${game.i18n.localize(\"ENHANCEDBONUSBUILDER.ModuleTitle\")}\n    </a>`);\n    \n    tabs.append(tabButton);\n    \n    // Add the tab content\n    const sheetBody = html.find('.sheet-body');\n    if (sheetBody.length === 0) return;\n    \n    const tabContent = $(`<div class=\"tab enhanced-bonus-builder-tab\" data-group=\"primary\" data-tab=\"bonuses\"></div>`);\n    sheetBody.append(tabContent);\n    \n    // Render the tab content\n    renderBonusTab(app.actor, tabContent);\n    \n    // Activate the tabs\n    app._tabs[0].bind(html[0]);\n  });\n}\n\n/**\n * Render the bonus tab content.\n * @param {Actor} actor The actor.\n * @param {jQuery} html The tab content element.\n */\nasync function renderBonusTab(actor, html) {\n  // Get all bonuses for the actor\n  const collection = api.getCollection(actor);\n  const bonuses = collection.getAll();\n  \n  // Group bonuses by type\n  const bonusesByType = {};\n  for (const bonus of bonuses) {\n    if (!bonusesByType[bonus.type]) {\n      bonusesByType[bonus.type] = [];\n    }\n    bonusesByType[bonus.type].push(bonus);\n  }\n  \n  // Create the HTML\n  let content = `\n    <div class=\"enhanced-bonus-builder-tab-content\">\n      <div class=\"header\">\n        <h2>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.ModuleTitle\")}</h2>\n        <button type=\"button\" class=\"create-bonus\">\n          <i class=\"fas fa-plus\"></i> ${game.i18n.localize(\"ENHANCEDBONUSBUILDER.CreateBonus\")}\n        </button>\n      </div>\n  `;\n  \n  // Add bonuses by type\n  for (const [type, typeBonuses] of Object.entries(bonusesByType)) {\n    content += `\n      <div class=\"bonus-type-section\">\n        <h3>${game.i18n.localize(`ENHANCEDBONUSBUILDER.BonusTypes.${type}`)}</h3>\n        <ul class=\"bonus-list\">\n    `;\n    \n    for (const bonus of typeBonuses) {\n      const enabledClass = bonus.enabled ? \"enhanced-bonus-builder-enabled\" : \"enhanced-bonus-builder-disabled\";\n      const enabledIcon = bonus.enabled ? \"fa-check-circle\" : \"fa-times-circle\";\n      \n      content += `\n        <li class=\"bonus-item\" data-bonus-id=\"${bonus.id}\">\n          <div class=\"bonus-name\">${bonus.name}</div>\n          <div class=\"bonus-controls\">\n            <a class=\"bonus-control toggle-bonus\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.ToggleBonus\")}\">\n              <i class=\"fas ${enabledIcon} ${enabledClass}\"></i>\n            </a>\n            <a class=\"bonus-control edit-bonus\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.EditBonus\")}\">\n              <i class=\"fas fa-edit\"></i>\n            </a>\n            <a class=\"bonus-control delete-bonus\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.DeleteBonus\")}\">\n              <i class=\"fas fa-trash\"></i>\n            </a>\n          </div>\n        </li>\n      `;\n    }\n    \n    content += `\n        </ul>\n      </div>\n    `;\n  }\n  \n  // If no bonuses, show a message\n  if (Object.keys(bonusesByType).length === 0) {\n    content += `\n      <div class=\"no-bonuses\">\n        <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.NoBonuses\")}</p>\n      </div>\n    `;\n  }\n  \n  content += `</div>`;\n  \n  // Set the HTML\n  html.html(content);\n  \n  // Add event listeners\n  html.find('.create-bonus').click(() => {\n    const workshop = new BabonusWorkshop(actor);\n    workshop.render(true);\n  });\n  \n  html.find('.toggle-bonus').click(async (event) => {\n    const bonusId = $(event.currentTarget).closest('.bonus-item').data('bonus-id');\n    await api.hotbarToggle(actor.uuid, bonusId);\n    renderBonusTab(actor, html);\n  });\n  \n  html.find('.edit-bonus').click(async (event) => {\n    const bonusId = $(event.currentTarget).closest('.bonus-item').data('bonus-id');\n    const bonus = await api.fromUuid(actor.uuid, bonusId);\n    if (bonus) {\n      const sheet = new BabonusSheet({bonus});\n      sheet.render(true);\n    }\n  });\n  \n  html.find('.delete-bonus').click(async (event) => {\n    const bonusId = $(event.currentTarget).closest('.bonus-item').data('bonus-id');\n    \n    const confirmed = await Dialog.confirm({\n      title: game.i18n.localize(\"Delete Bonus\"),\n      content: `<p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.DeleteBonusConfirm\")}</p>`,\n      defaultYes: false\n    });\n    \n    if (confirmed) {\n      await collection.remove(bonusId);\n      renderBonusTab(actor, html);\n    }\n  });\n}","import { MODULE } from \"../constants.mjs\";\nimport api from \"../api.mjs\";\n\n/**\n * Set up text enrichers.\n */\nexport default function enricherSetup() {\n  // Add the bonus enricher\n  CONFIG.TextEditor.enrichers.push({\n    pattern: /@bonus\\[([^\\]]+)\\](?:{([^}]+)})?/gi,\n    enricher: enrichBonus\n  });\n}\n\n/**\n * Enrich a bonus reference.\n * @param {object} match The regex match.\n * @param {object} options The enrichment options.\n * @returns {Promise<HTMLElement>} The enriched HTML.\n */\nasync function enrichBonus(match, options) {\n  const [, reference, label] = match;\n  \n  // Parse the reference\n  const [documentUuid, bonusId] = reference.split(\".\");\n  if (!documentUuid || !bonusId) return null;\n  \n  // Get the bonus\n  const bonus = await api.fromUuid(documentUuid, bonusId);\n  if (!bonus) return null;\n  \n  // Create the element\n  const element = document.createElement(\"a\");\n  element.classList.add(\"enhanced-bonus-builder-link\");\n  element.dataset.uuid = documentUuid;\n  element.dataset.bonusId = bonusId;\n  element.title = bonus.name;\n  \n  // Set the content\n  const icon = document.createElement(\"i\");\n  icon.classList.add(\"fas\", \"fa-calculator\", \"enhanced-bonus-builder-icon\");\n  if (bonus.iconColor) {\n    icon.style.color = bonus.iconColor;\n  }\n  \n  element.appendChild(icon);\n  element.appendChild(document.createTextNode(label || bonus.name));\n  \n  // Add event listener\n  element.addEventListener(\"click\", async (event) => {\n    event.preventDefault();\n    \n    // Toggle the bonus\n    await api.hotbarToggle(documentUuid, bonusId);\n  });\n  \n  return element;\n}","import { MODULE } from \"../constants.mjs\";\nimport api from \"../api.mjs\";\n\n/**\n * Set up injections into the Foundry VTT interface.\n */\nexport function setup() {\n  // Inject the bonus button into actor sheets\n  Hooks.on(\"renderActorSheet\", injectActorSheetButton);\n  \n  // Inject the bonus button into item sheets\n  Hooks.on(\"renderItemSheet\", injectItemSheetButton);\n  \n  // Inject the bonus button into effect sheets\n  Hooks.on(\"renderActiveEffectConfig\", injectEffectSheetButton);\n  \n  // Inject the bonus button into region sheets\n  Hooks.on(\"renderRegionConfig\", injectRegionSheetButton);\n}\n\n/**\n * Inject the bonus button into actor sheets.\n * @param {ActorSheet} app The actor sheet.\n * @param {jQuery} html The HTML element.\n * @param {object} data The data.\n */\nfunction injectActorSheetButton(app, html, data) {\n  // Skip if not a DnD5e actor\n  if (app.actor.system.schema.name !== \"dnd5e.ActorDataModel\") return;\n  \n  // Find the header\n  const header = html.find('.window-header .window-title');\n  if (header.length === 0) return;\n  \n  // Create the button\n  const button = $(`<a class=\"enhanced-bonus-builder-button\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.OpenWorkshop\")}\">\n    <i class=\"fas fa-calculator enhanced-bonus-builder-icon\"></i>\n  </a>`);\n  \n  // Add the button after the header\n  header.after(button);\n  \n  // Add event listener\n  button.click(() => {\n    api.openBonusWorkshop(app.actor);\n  });\n}\n\n/**\n * Inject the bonus button into item sheets.\n * @param {ItemSheet} app The item sheet.\n * @param {jQuery} html The HTML element.\n * @param {object} data The data.\n */\nfunction injectItemSheetButton(app, html, data) {\n  // Skip if not a DnD5e item\n  if (app.item.system.schema.name !== \"dnd5e.ItemDataModel\") return;\n  \n  // Find the header\n  const header = html.find('.window-header .window-title');\n  if (header.length === 0) return;\n  \n  // Create the button\n  const button = $(`<a class=\"enhanced-bonus-builder-button\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.OpenWorkshop\")}\">\n    <i class=\"fas fa-calculator enhanced-bonus-builder-icon\"></i>\n  </a>`);\n  \n  // Add the button after the header\n  header.after(button);\n  \n  // Add event listener\n  button.click(() => {\n    api.openBonusWorkshop(app.item);\n  });\n}\n\n/**\n * Inject the bonus button into effect sheets.\n * @param {ActiveEffectConfig} app The effect sheet.\n * @param {jQuery} html The HTML element.\n * @param {object} data The data.\n */\nfunction injectEffectSheetButton(app, html, data) {\n  // Skip if not a DnD5e effect\n  if (!app.object.parent || app.object.parent.system.schema.name !== \"dnd5e.ActorDataModel\") return;\n  \n  // Find the header\n  const header = html.find('.window-header .window-title');\n  if (header.length === 0) return;\n  \n  // Create the button\n  const button = $(`<a class=\"enhanced-bonus-builder-button\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.OpenWorkshop\")}\">\n    <i class=\"fas fa-calculator enhanced-bonus-builder-icon\"></i>\n  </a>`);\n  \n  // Add the button after the header\n  header.after(button);\n  \n  // Add event listener\n  button.click(() => {\n    api.openBonusWorkshop(app.object);\n  });\n}\n\n/**\n * Inject the bonus button into region sheets.\n * @param {RegionConfig} app The region sheet.\n * @param {jQuery} html The HTML element.\n * @param {object} data The data.\n */\nfunction injectRegionSheetButton(app, html, data) {\n  // Find the header\n  const header = html.find('.window-header .window-title');\n  if (header.length === 0) return;\n  \n  // Create the button\n  const button = $(`<a class=\"enhanced-bonus-builder-button\" title=\"${game.i18n.localize(\"ENHANCEDBONUSBUILDER.OpenWorkshop\")}\">\n    <i class=\"fas fa-calculator enhanced-bonus-builder-icon\"></i>\n  </a>`);\n  \n  // Add the button after the header\n  header.after(button);\n  \n  // Add event listener\n  button.click(() => {\n    api.openBonusWorkshop(app.object);\n  });\n}\n\nexport default { setup };","import registry from \"./registry.mjs\";\nimport { MODULE, SETTINGS } from \"./constants.mjs\";\n\n/**\n * Handle the preRollAttack hook.\n * @param {Actor} actor The actor rolling the attack.\n * @param {Item} item The item being used.\n * @param {object} config The roll configuration.\n */\nasync function preRollAttack(actor, item, config) {\n  if (!actor || !item) return;\n  \n  // Register the roll for bonuses\n  const uuid = registry.register({\n    type: \"attackRoll\",\n    actor,\n    item,\n    config\n  });\n  \n  // Store the registry ID in the config\n  config.enhancedBonusBuilder = {\n    registry: uuid,\n    type: \"attackRoll\",\n    options: {\n      actor,\n      item\n    }\n  };\n}\n\n/**\n * Handle the rollAttack hook.\n * @param {Actor} actor The actor rolling the attack.\n * @param {Item} item The item being used.\n * @param {Roll} roll The attack roll.\n * @param {object} ammo The ammunition used, if any.\n */\nasync function rollAttack(actor, item, roll, ammo) {\n  if (!actor || !item || !roll) return;\n  \n  // Apply bonuses to the roll\n  const showApplied = game.settings.get(MODULE.ID, SETTINGS.SHOW_APPLIED);\n  const bonuses = await registry.collect(\"attackRoll\", {\n    actor,\n    item,\n    roll,\n    ammo\n  });\n  \n  if (bonuses.length === 0) return;\n  \n  // Apply bonuses\n  let totalBonus = 0;\n  const parts = [];\n  \n  for (const bonus of bonuses) {\n    try {\n      const value = await bonus.evaluateBonus();\n      if (value === 0) continue;\n      \n      totalBonus += value;\n      parts.push({\n        name: bonus.name,\n        value\n      });\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error evaluating attack roll bonus:\", error);\n    }\n  }\n  \n  if (totalBonus === 0) return;\n  \n  // Apply the bonus to the roll\n  const formula = roll.formula + ` + ${totalBonus}`;\n  const newRoll = await new Roll(formula, roll.data).evaluate({async: true});\n  \n  // Replace the roll\n  roll.terms = newRoll.terms;\n  roll.formula = newRoll.formula;\n  roll._total = newRoll.total;\n  roll._evaluated = true;\n  \n  // Show applied bonuses\n  if (showApplied && parts.length > 0) {\n    const content = parts.map(p => `<li>${p.name}: ${p.value >= 0 ? '+' : ''}${p.value}</li>`).join(\"\");\n    ChatMessage.create({\n      content: `\n        <div class=\"enhanced-bonus-builder applied-bonuses\">\n          <h3>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.AppliedBonuses\")}</h3>\n          <ul>${content}</ul>\n          <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.TotalBonus\")}: ${totalBonus >= 0 ? '+' : ''}${totalBonus}</p>\n        </div>\n      `,\n      speaker: ChatMessage.getSpeaker({actor})\n    });\n  }\n}\n\n/**\n * Handle the preRollDamage hook.\n * @param {Actor} actor The actor rolling damage.\n * @param {Item} item The item being used.\n * @param {object} config The roll configuration.\n */\nasync function preRollDamage(actor, item, config) {\n  if (!actor || !item) return;\n  \n  // Register the roll for bonuses\n  const uuid = registry.register({\n    type: \"damageRoll\",\n    actor,\n    item,\n    config\n  });\n  \n  // Store the registry ID in the config\n  config.enhancedBonusBuilder = {\n    registry: uuid,\n    type: \"damageRoll\",\n    options: {\n      actor,\n      item,\n      critical: config.critical\n    }\n  };\n}\n\n/**\n * Handle the rollDamage hook.\n * @param {Actor} actor The actor rolling damage.\n * @param {Item} item The item being used.\n * @param {Roll} roll The damage roll.\n * @param {object} ammo The ammunition used, if any.\n * @param {object} options The roll options.\n */\nasync function rollDamage(actor, item, roll, ammo, options) {\n  if (!actor || !item || !roll) return;\n  \n  // Apply bonuses to the roll\n  const showApplied = game.settings.get(MODULE.ID, SETTINGS.SHOW_APPLIED);\n  const bonuses = await registry.collect(\"damageRoll\", {\n    actor,\n    item,\n    roll,\n    ammo,\n    critical: options?.critical\n  });\n  \n  if (bonuses.length === 0) return;\n  \n  // Apply bonuses\n  let totalBonus = 0;\n  const parts = [];\n  \n  for (const bonus of bonuses) {\n    try {\n      const value = await bonus.evaluateBonus();\n      if (value === 0) continue;\n      \n      totalBonus += value;\n      parts.push({\n        name: bonus.name,\n        value,\n        damageType: bonus.damageType\n      });\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error evaluating damage roll bonus:\", error);\n    }\n  }\n  \n  if (totalBonus === 0) return;\n  \n  // Apply the bonus to the roll\n  const formula = roll.formula + ` + ${totalBonus}`;\n  const newRoll = await new Roll(formula, roll.data).evaluate({async: true});\n  \n  // Replace the roll\n  roll.terms = newRoll.terms;\n  roll.formula = newRoll.formula;\n  roll._total = newRoll.total;\n  roll._evaluated = true;\n  \n  // Show applied bonuses\n  if (showApplied && parts.length > 0) {\n    const content = parts.map(p => {\n      const type = p.damageType ? ` (${game.i18n.localize(`DND5E.Damage${p.damageType.capitalize()}`)})` : \"\";\n      return `<li>${p.name}${type}: ${p.value >= 0 ? '+' : ''}${p.value}</li>`;\n    }).join(\"\");\n    \n    ChatMessage.create({\n      content: `\n        <div class=\"enhanced-bonus-builder applied-bonuses\">\n          <h3>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.AppliedBonuses\")}</h3>\n          <ul>${content}</ul>\n          <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.TotalBonus\")}: ${totalBonus >= 0 ? '+' : ''}${totalBonus}</p>\n        </div>\n      `,\n      speaker: ChatMessage.getSpeaker({actor})\n    });\n  }\n}\n\n/**\n * Handle the preRollAbilitySave hook.\n * @param {Actor} actor The actor rolling the save.\n * @param {object} config The roll configuration.\n * @param {string} ability The ability being used.\n */\nasync function preRollAbilitySave(actor, config, ability) {\n  if (!actor) return;\n  \n  // Register the roll for bonuses\n  const uuid = registry.register({\n    type: \"savingThrow\",\n    actor,\n    config,\n    ability\n  });\n  \n  // Store the registry ID in the config\n  config.enhancedBonusBuilder = {\n    registry: uuid,\n    type: \"savingThrow\",\n    options: {\n      actor,\n      ability\n    }\n  };\n}\n\n/**\n * Handle the rollAbilitySave hook.\n * @param {Actor} actor The actor rolling the save.\n * @param {Roll} roll The save roll.\n * @param {string} ability The ability being used.\n */\nasync function rollAbilitySave(actor, roll, ability) {\n  if (!actor || !roll) return;\n  \n  // Apply bonuses to the roll\n  const showApplied = game.settings.get(MODULE.ID, SETTINGS.SHOW_APPLIED);\n  const bonuses = await registry.collect(\"savingThrow\", {\n    actor,\n    roll,\n    ability\n  });\n  \n  if (bonuses.length === 0) return;\n  \n  // Apply bonuses\n  let totalBonus = 0;\n  const parts = [];\n  \n  for (const bonus of bonuses) {\n    try {\n      const value = await bonus.evaluateBonus();\n      if (value === 0) continue;\n      \n      totalBonus += value;\n      parts.push({\n        name: bonus.name,\n        value\n      });\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error evaluating saving throw bonus:\", error);\n    }\n  }\n  \n  if (totalBonus === 0) return;\n  \n  // Apply the bonus to the roll\n  const formula = roll.formula + ` + ${totalBonus}`;\n  const newRoll = await new Roll(formula, roll.data).evaluate({async: true});\n  \n  // Replace the roll\n  roll.terms = newRoll.terms;\n  roll.formula = newRoll.formula;\n  roll._total = newRoll.total;\n  roll._evaluated = true;\n  \n  // Show applied bonuses\n  if (showApplied && parts.length > 0) {\n    const content = parts.map(p => `<li>${p.name}: ${p.value >= 0 ? '+' : ''}${p.value}</li>`).join(\"\");\n    ChatMessage.create({\n      content: `\n        <div class=\"enhanced-bonus-builder applied-bonuses\">\n          <h3>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.AppliedBonuses\")}</h3>\n          <ul>${content}</ul>\n          <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.TotalBonus\")}: ${totalBonus >= 0 ? '+' : ''}${totalBonus}</p>\n        </div>\n      `,\n      speaker: ChatMessage.getSpeaker({actor})\n    });\n  }\n}\n\n/**\n * Handle the preRollAbilityTest hook.\n * @param {Actor} actor The actor rolling the test.\n * @param {object} config The roll configuration.\n * @param {string} ability The ability being used.\n */\nasync function preRollAbilityTest(actor, config, ability) {\n  if (!actor) return;\n  \n  // Register the roll for bonuses\n  const uuid = registry.register({\n    type: \"abilityCheck\",\n    actor,\n    config,\n    ability\n  });\n  \n  // Store the registry ID in the config\n  config.enhancedBonusBuilder = {\n    registry: uuid,\n    type: \"abilityCheck\",\n    options: {\n      actor,\n      ability\n    }\n  };\n}\n\n/**\n * Handle the rollAbilityTest hook.\n * @param {Actor} actor The actor rolling the test.\n * @param {Roll} roll The test roll.\n * @param {string} ability The ability being used.\n */\nasync function rollAbilityTest(actor, roll, ability) {\n  if (!actor || !roll) return;\n  \n  // Apply bonuses to the roll\n  const showApplied = game.settings.get(MODULE.ID, SETTINGS.SHOW_APPLIED);\n  const bonuses = await registry.collect(\"abilityCheck\", {\n    actor,\n    roll,\n    ability\n  });\n  \n  if (bonuses.length === 0) return;\n  \n  // Apply bonuses\n  let totalBonus = 0;\n  const parts = [];\n  \n  for (const bonus of bonuses) {\n    try {\n      const value = await bonus.evaluateBonus();\n      if (value === 0) continue;\n      \n      totalBonus += value;\n      parts.push({\n        name: bonus.name,\n        value\n      });\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error evaluating ability check bonus:\", error);\n    }\n  }\n  \n  if (totalBonus === 0) return;\n  \n  // Apply the bonus to the roll\n  const formula = roll.formula + ` + ${totalBonus}`;\n  const newRoll = await new Roll(formula, roll.data).evaluate({async: true});\n  \n  // Replace the roll\n  roll.terms = newRoll.terms;\n  roll.formula = newRoll.formula;\n  roll._total = newRoll.total;\n  roll._evaluated = true;\n  \n  // Show applied bonuses\n  if (showApplied && parts.length > 0) {\n    const content = parts.map(p => `<li>${p.name}: ${p.value >= 0 ? '+' : ''}${p.value}</li>`).join(\"\");\n    ChatMessage.create({\n      content: `\n        <div class=\"enhanced-bonus-builder applied-bonuses\">\n          <h3>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.AppliedBonuses\")}</h3>\n          <ul>${content}</ul>\n          <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.TotalBonus\")}: ${totalBonus >= 0 ? '+' : ''}${totalBonus}</p>\n        </div>\n      `,\n      speaker: ChatMessage.getSpeaker({actor})\n    });\n  }\n}\n\n/**\n * Handle the preRollDeathSave hook.\n * @param {Actor} actor The actor rolling the death save.\n * @param {object} config The roll configuration.\n */\nasync function preRollDeathSave(actor, config) {\n  if (!actor) return;\n  \n  // Register the roll for bonuses\n  const uuid = registry.register({\n    type: \"savingThrow\",\n    actor,\n    config,\n    ability: \"death\"\n  });\n  \n  // Store the registry ID in the config\n  config.enhancedBonusBuilder = {\n    registry: uuid,\n    type: \"savingThrow\",\n    options: {\n      actor,\n      ability: \"death\"\n    }\n  };\n}\n\n/**\n * Handle the rollDeathSave hook.\n * @param {Actor} actor The actor rolling the death save.\n * @param {Roll} roll The death save roll.\n */\nasync function rollDeathSave(actor, roll) {\n  if (!actor || !roll) return;\n  \n  // Apply bonuses to the roll\n  const showApplied = game.settings.get(MODULE.ID, SETTINGS.SHOW_APPLIED);\n  const bonuses = await registry.collect(\"savingThrow\", {\n    actor,\n    roll,\n    ability: \"death\"\n  });\n  \n  if (bonuses.length === 0) return;\n  \n  // Apply bonuses\n  let totalBonus = 0;\n  const parts = [];\n  \n  for (const bonus of bonuses) {\n    try {\n      const value = await bonus.evaluateBonus();\n      if (value === 0) continue;\n      \n      totalBonus += value;\n      parts.push({\n        name: bonus.name,\n        value\n      });\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error evaluating death save bonus:\", error);\n    }\n  }\n  \n  if (totalBonus === 0) return;\n  \n  // Apply the bonus to the roll\n  const formula = roll.formula + ` + ${totalBonus}`;\n  const newRoll = await new Roll(formula, roll.data).evaluate({async: true});\n  \n  // Replace the roll\n  roll.terms = newRoll.terms;\n  roll.formula = newRoll.formula;\n  roll._total = newRoll.total;\n  roll._evaluated = true;\n  \n  // Show applied bonuses\n  if (showApplied && parts.length > 0) {\n    const content = parts.map(p => `<li>${p.name}: ${p.value >= 0 ? '+' : ''}${p.value}</li>`).join(\"\");\n    ChatMessage.create({\n      content: `\n        <div class=\"enhanced-bonus-builder applied-bonuses\">\n          <h3>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.AppliedBonuses\")}</h3>\n          <ul>${content}</ul>\n          <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.TotalBonus\")}: ${totalBonus >= 0 ? '+' : ''}${totalBonus}</p>\n        </div>\n      `,\n      speaker: ChatMessage.getSpeaker({actor})\n    });\n  }\n}\n\n/**\n * Handle the preRollHitDie hook.\n * @param {Actor} actor The actor rolling the hit die.\n * @param {object} config The roll configuration.\n * @param {string} denomination The hit die denomination.\n */\nasync function preRollHitDie(actor, config, denomination) {\n  if (!actor) return;\n  \n  // Register the roll for bonuses\n  const uuid = registry.register({\n    type: \"hitDie\",\n    actor,\n    config,\n    denomination\n  });\n  \n  // Store the registry ID in the config\n  config.enhancedBonusBuilder = {\n    registry: uuid,\n    type: \"hitDie\",\n    options: {\n      actor,\n      denomination\n    }\n  };\n}\n\n/**\n * Handle the rollHitDie hook.\n * @param {Actor} actor The actor rolling the hit die.\n * @param {Roll} roll The hit die roll.\n */\nasync function rollHitDie(actor, roll) {\n  if (!actor || !roll) return;\n  \n  // Apply bonuses to the roll\n  const showApplied = game.settings.get(MODULE.ID, SETTINGS.SHOW_APPLIED);\n  const bonuses = await registry.collect(\"hitDie\", {\n    actor,\n    roll\n  });\n  \n  if (bonuses.length === 0) return;\n  \n  // Apply bonuses\n  let totalBonus = 0;\n  const parts = [];\n  \n  for (const bonus of bonuses) {\n    try {\n      const value = await bonus.evaluateBonus();\n      if (value === 0) continue;\n      \n      totalBonus += value;\n      parts.push({\n        name: bonus.name,\n        value\n      });\n    } catch (error) {\n      console.error(\"Enhanced Bonus Builder | Error evaluating hit die bonus:\", error);\n    }\n  }\n  \n  if (totalBonus === 0) return;\n  \n  // Apply the bonus to the roll\n  const formula = roll.formula + ` + ${totalBonus}`;\n  const newRoll = await new Roll(formula, roll.data).evaluate({async: true});\n  \n  // Replace the roll\n  roll.terms = newRoll.terms;\n  roll.formula = newRoll.formula;\n  roll._total = newRoll.total;\n  roll._evaluated = true;\n  \n  // Show applied bonuses\n  if (showApplied && parts.length > 0) {\n    const content = parts.map(p => `<li>${p.name}: ${p.value >= 0 ? '+' : ''}${p.value}</li>`).join(\"\");\n    ChatMessage.create({\n      content: `\n        <div class=\"enhanced-bonus-builder applied-bonuses\">\n          <h3>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.AppliedBonuses\")}</h3>\n          <ul>${content}</ul>\n          <p>${game.i18n.localize(\"ENHANCEDBONUSBUILDER.TotalBonus\")}: ${totalBonus >= 0 ? '+' : ''}${totalBonus}</p>\n        </div>\n      `,\n      speaker: ChatMessage.getSpeaker({actor})\n    });\n  }\n}\n\nexport default {\n  preRollAttack,\n  rollAttack,\n  preRollDamage,\n  rollDamage,\n  preRollAbilitySave,\n  rollAbilitySave,\n  preRollAbilityTest,\n  rollAbilityTest,\n  preRollDeathSave,\n  rollDeathSave,\n  preRollHitDie,\n  rollHitDie\n};","import { MODULE, SETTINGS } from \"./constants.mjs\";\nimport * as filterings from \"./applications/filterings.mjs\";\nimport api from \"./api.mjs\";\nimport applications from \"./applications/_module.mjs\";\nimport characterSheetTabSetup from \"./applications/character-sheet-tab.mjs\";\nimport enricherSetup from \"./applications/enrichers.mjs\";\nimport fields from \"./fields/_module.mjs\";\nimport injections from \"./applications/injections.mjs\";\nimport models from \"./models/_module.mjs\";\nimport mutators from \"./mutators.mjs\";\nimport OptionalSelector from \"./applications/optional-selector.mjs\";\nimport registry from \"./registry.mjs\";\n\n// Setup API object\nglobalThis.enhancedBonusBuilder = {\n  api,\n  abstract: {\n    DataModels: models.Babonus,\n    DataFields: {\n      fields: fields,\n      models: models\n    }\n  },\n  TYPES: Object.keys(models.Babonus),\n  applications: applications,\n  filters: {...filterings.filters}\n};\n\n/**\n * Render the optional bonus selector on a roll dialog.\n * @param {Dialog} dialog The dialog being rendered.\n */\nasync function renderDialog(dialog) {\n  const m = dialog.options.enhancedBonusBuilder;\n  if (!m) return;\n  const r = registry.get(m.registry);\n  if (!r) return;\n\n  dialog.enhancedBonusBuilder = {\n    dialog,\n    registry: r,\n    type: m.type,\n    options: m.options\n  };\n\n  // Create and render the optional selector\n  const selector = new OptionalSelector(dialog.enhancedBonusBuilder);\n  await selector.render(true);\n}\n\n/**\n * Register module settings.\n */\nfunction registerSettings() {\n  // Register migration setting\n  game.settings.register(MODULE.ID, SETTINGS.MIGRATE, {\n    name: \"ENHANCEDBONUSBUILDER.Settings.migrate.Name\",\n    hint: \"ENHANCEDBONUSBUILDER.Settings.migrate.Hint\",\n    scope: \"world\",\n    config: false,\n    type: String,\n    default: \"\"\n  });\n\n  // Register show applied bonuses setting\n  game.settings.register(MODULE.ID, SETTINGS.SHOW_APPLIED, {\n    name: \"ENHANCEDBONUSBUILDER.Settings.showApplied.Name\",\n    hint: \"ENHANCEDBONUSBUILDER.Settings.showApplied.Hint\",\n    scope: \"client\",\n    config: true,\n    type: Boolean,\n    default: true\n  });\n\n  // Register show optional bonuses setting\n  game.settings.register(MODULE.ID, SETTINGS.SHOW_OPTIONAL, {\n    name: \"ENHANCEDBONUSBUILDER.Settings.showOptional.Name\",\n    hint: \"ENHANCEDBONUSBUILDER.Settings.showOptional.Hint\",\n    scope: \"client\",\n    config: true,\n    type: Boolean,\n    default: true\n  });\n\n  // Register show sheet tab setting\n  game.settings.register(MODULE.ID, SETTINGS.SHOW_SHEET_TAB, {\n    name: \"ENHANCEDBONUSBUILDER.Settings.showSheetTab.Name\",\n    hint: \"ENHANCEDBONUSBUILDER.Settings.showSheetTab.Hint\",\n    scope: \"client\",\n    config: true,\n    type: Boolean,\n    default: true,\n    onChange: value => {\n      // Refresh open character sheets\n      for (const app of Object.values(ui.windows)) {\n        if (app.document?.documentName === \"Actor\") {\n          app.render();\n        }\n      }\n    }\n  });\n}\n\n/**\n * Initialize the module.\n */\nasync function init() {\n  registerSettings();\n  \n  // Register templates\n  const templatePaths = Object.values(MODULE.TEMPLATES);\n  loadTemplates(templatePaths);\n\n  // Setup hooks\n  Hooks.on(\"renderDialog\", renderDialog);\n  \n  // Setup enrichers\n  enricherSetup();\n  \n  // Setup character sheet tab\n  if (game.settings.get(MODULE.ID, SETTINGS.SHOW_SHEET_TAB)) {\n    characterSheetTabSetup();\n  }\n  \n  // Setup injections\n  injections.setup();\n}\n\n/**\n * Ready hook.\n */\nasync function ready() {\n  // Check for migration\n  const currentVersion = game.modules.get(MODULE.ID).version;\n  const lastVersion = game.settings.get(MODULE.ID, SETTINGS.MIGRATE);\n  \n  if (currentVersion !== lastVersion) {\n    // Perform migration if needed\n    await game.settings.set(MODULE.ID, SETTINGS.MIGRATE, currentVersion);\n  }\n  \n  // Create macro for easy access\n  if (game.user.isGM) {\n    const existingMacro = game.macros.find(m => m.name === \"Enhanced Bonus Builder\");\n    if (!existingMacro) {\n      await Macro.create({\n        name: \"Enhanced Bonus Builder\",\n        type: \"script\",\n        command: `game.modules.get('enhanced-bonus-builder').api.openBonusWorkshopForActor();`,\n        img: \"icons/svg/dice-target.svg\",\n        scope: \"global\"\n      });\n    }\n  }\n}\n\n// Register hooks\nHooks.once(\"init\", init);\nHooks.once(\"ready\", ready);\n\n// Register mutators\nHooks.on(\"dnd5e.preRollAttack\", mutators.preRollAttack);\nHooks.on(\"dnd5e.rollAttack\", mutators.rollAttack);\nHooks.on(\"dnd5e.preRollDamage\", mutators.preRollDamage);\nHooks.on(\"dnd5e.rollDamage\", mutators.rollDamage);\nHooks.on(\"dnd5e.preRollAbilitySave\", mutators.preRollAbilitySave);\nHooks.on(\"dnd5e.rollAbilitySave\", mutators.rollAbilitySave);\nHooks.on(\"dnd5e.preRollAbilityTest\", mutators.preRollAbilityTest);\nHooks.on(\"dnd5e.rollAbilityTest\", mutators.rollAbilityTest);\nHooks.on(\"dnd5e.preRollDeathSave\", mutators.preRollDeathSave);\nHooks.on(\"dnd5e.rollDeathSave\", mutators.rollDeathSave);\nHooks.on(\"dnd5e.preRollHitDie\", mutators.preRollHitDie);\nHooks.on(\"dnd5e.rollHitDie\", mutators.rollHitDie);"],"names":["BooleanField","NumberField","SchemaField","SetField","StringField","filterings.filters"],"mappings":"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"}